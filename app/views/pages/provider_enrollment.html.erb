<div class="content container-fluid">
	<%= render "enrollment_tracking_components/enrollment_nav"%>
	<div class="row mb-3">
		<div class="col-lg-12">
			<h2>
				<a href="<%= providers_path %>" class="d-flex gap-2 text-secondary">
				<i class="bi bi-arrow-left"></i>
				<span>Add New Provider</span>
				</a>
			</h2>
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-12">
			<h5 class="mb-0">General Information</h5>
			<small class="text-black">Please fill out all required fields.</small>
		</div>
	</div>
	<form>
	<div class="row mb-3">
		<div class="col-lg-4">
			<input type="text" name="provider_first_name" required class="form-control" placeholder="First Name *">
		</div>
		<div class="col-lg-2">
			<input type="text" name="provider_middle_name" required class="form-control" placeholder="Middle Name *">
		</div>
		<div class="col-lg-4">
			<input type="text" name="provider_last_name" required class="form-control" placeholder="Last Name *">
		</div>
		<div class="col-lg-2">
			<select class="form-select" placeholder="Suffix" name="provider_suffix">
				<option>Suffix</option>
				<option>Jr.</option>
				<option>Sr.</option>
				<option>III.</option>
				<option>IV.</option>
			</select>
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-6">
			<select class="form-select" placeholder="Suffix" name="provider_gender">
				<option>Gender *</option>
				<option value="male">Male</option>
				<option value="female">Female</option>
				<option value="non-binary">Non Binary</option>
			</select>
		</div>
		<div class="col-lg-6">
			<input type="text" name="provider_birth_date" required class="form-control" placeholder="Birth Date *" title="Birth Date *" onfocus="(this.type = 'date')">
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-12">
			<select class="form-select" required name="provider_type">
				<option value="">Practitioner Type *</option>
				<% @provider_types.each do |provider_type|%>
					<option value="<%= provider_type.fch %>"><%= provider_type.fch %></option>
				<% end %>
			</select>
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-6">
			<input type="text" name="provider_ssn" required class="form-control" placeholder="SSN*">
		</div>
		<div class="col-lg-6">
			<input type="text" name="provider_npi" required class="form-control" placeholder="NPI*">
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-6">
			<input type="text" name="provider_caqh_id" required class="form-control" placeholder="CAQH ID*">
		</div>
		<div class="col-lg-6">
			<input type="text" name="provider_caqh_attestation_date" required class="form-control" placeholder="CAQH Attestation Date *" title="CAQH Attestation Date *" onfocus="(this.type = 'date')">
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-6">
			<select class="form-select" required name="provider_caqh_pdf">
				<option>CAQH PDF*</option>
			</select>
		</div>
		<div class="col-lg-6">
			<input type="text" name="provider_caqh_pdf_date_received" required class="form-control" placeholder="Date received ofCAQH PDF*" onfocus="(this.type = 'date')">
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-6">
			<input type="text" name="provider_nccpa_number" required class="form-control" placeholder="NCCPA Number*">
		</div>
		<div class="col-lg-6">
			<input type="text" name="provider_dea_number" required class="form-control" placeholder="DEA Number*">
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-6">
			<input type="text" name="provider_dea_license_effective_date" required class="form-control" placeholder="DEA License Effective Date *" onfocus="(this.type = 'date')">
		</div>
		<div class="col-lg-6">
			<input type="text" name="provider_dea_license_expiration_date" required class="form-control" placeholder="DEA License Expiration Date *" onfocus="(this.type = 'date')">
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-12 mt-3">
			<h3>Taxonomy</h3>
		</div>
		<div class="col-lg-12" id="taxonomies">
			<div class="row">
				<div class="col-lg-1 d-flex justify-content-center align-items-center">
					<a href="javascript:void(0);" class="text-primary add-new-fields" data-new="taxonomy">
						<i class="bi bi-plus-circle-fill" style="font-size: 1.5rem;"></i>
					</a>
				</div>
				<div class="col-lg-5">
					<input type="" name="provider_taxonomy_code[]" class="form-control" required placeholder="Taxonomy Code *">
				</div>
				<div class="col-lg-6">
					<select class="form-select" required name="provider_taxonomy_specialty">
						<option>Specialty*</option>
	                     <% @specialties.each do |specialty|%>
	                       <option value="<%= specialty.bcbs%>"><%= specialty.bcbs %></option>
	                     <% end %>
					</select>
				</div>
			</div>
		</div>
	</div>

	<div class="row mb-3">
		<div class="col-lg-12 mt-3">
			<h3>License</h3>
		</div>
		<div class="col-lg-12" id="licenses">
			<div class="row">
				<div class="col-lg-1 d-flex justify-content-center align-items-center">
					<a href="javascript:void(0);" class="text-primary add-new-fields" data-new="license">
						<i class="bi bi-plus-circle-fill" style="font-size: 1.5rem;"></i>
					</a>
				</div>
				<div class="col-lg-4">
					<input type="text" name="provider_license_number[]" required class="form-control" placeholder="License Number">
				</div>
				<div class="col-lg-3">
					<input type="text" name="provider_license_effective_date[]" required class="form-control" placeholder="License Effective Date *" onfocus="(this.type = 'date')">
				</div>
				<div class="col-lg-4">
					<input type="text" name="provider_license_expiration_date[]" required class="form-control" placeholder="License Expiration Date *" onfocus="(this.type = 'date')">
				</div>
			</div>
		</div>
	</div>

	<div class="row mb-3">
		<div class="col-lg-12 mt-3">
			<h3>PA License</h3>
		</div>
		<div class="col-lg-6">
			<input type="text" name="provider_pa_license_effective_date" required class="form-control" placeholder="PA License Effective Date *" onfocus="(this.type = 'date')">
		</div>
		<div class="col-lg-6">
			<input type="text" name="provider_pa_license_expiration_date" required class="form-control" placeholder="PA License Expiration Date *" onfocus="(this.type = 'date')">
		</div>
	</div>

	<div class="row mb-3">
		<div class="col-lg-12 mt-3">
			<h3>NP License</h3>
		</div>
		<div class="col-lg-12"  id="np_licenses">
			<div class="row">
				<div class="col-lg-1 d-flex justify-content-center align-items-center">
				<a href="javascript:void(0);" class="text-primary add-new-fields" data-new="np_license">
					<i class="bi bi-plus-circle-fill" style="font-size: 1.5rem;"></i>
				</a>
			</div>
			<div class="col-lg-4">
				<input type="text" name="provider_np_license_number[]" required class="form-control" placeholder="NP License Number">
			</div>
			<div class="col-lg-3">
				<input type="text" name="provider_np_license_effective_date[]" required class="form-control" placeholder="NP License Effective Date *" onfocus="(this.type = 'date')">
			</div>
			<div class="col-lg-4">
				<input type="text" name="provider_np_license_expiration_date[]" required class="form-control" placeholder="NP License Expiration Date *" onfocus="(this.type = 'date')">
			</div>
			</div>
		</div>
	</div>

	<div class="row mb-3">
		<div class="col-lg-12 mt-3">
			<h3>RN License</h3>
		</div>
		<div class="col-lg-12" id="rn_licenses">
			<div class="row">
				<div class="col-lg-1 d-flex justify-content-center align-items-center">
			<a href="javascript:void(0);" class="text-primary add-new-fields" data-new="rn_license">
				<i class="bi bi-plus-circle-fill" style="font-size: 1.5rem;"></i>
			</a>
		</div>
		<div class="col-lg-4">
			<input type="text" name="provider_rn_license_number[]" required class="form-control" placeholder="RN License Number">
		</div>
		<div class="col-lg-3">
			<input type="text" name="provider_rn_license_effective_date[]" required class="form-control" placeholder="RN License Effective Date *" onfocus="(this.type = 'date')">
		</div>
		<div class="col-lg-4">
			<input type="text" name="provider_rn_license_expiration_date[]" required class="form-control" placeholder="RN License Expiration Date *" onfocus="(this.type = 'date')">
		</div>
			</div>
		</div>
		
	</div>

	<div class="row mb-3 mt-5">
		<div class="col-lg-6">
			<select class="form-select" required name="provider_dco">
				<option>DCO*</option>
			</select>
		</div>
	</div>
	<div class="row mb-3">
		<div class="col-lg-12">
			<input type="file" name="provider_files" class="form-control">
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12 d-flex justify-content-end">
			<button class="btn btn-primary btn-md">Submit</button>
		</div>
	</div>
	</form>
</div>


<script>
	$('.add-new-fields').on('click',function(e) {
		var new_data = $(this).data('new');

		if(new_data == "taxonomy")
			createTaxonomy();
		else if(new_data == 'license')
			createLicense();
		else if(new_data == 'np_license')
			createNPLicense();
		else if(new_data == 'rn_license')
			createRNLicense();

	})
	$(document).on("click",".remove-new-fields",function(){
	   $(this).parent().parent().remove();
	})

	function createTaxonomy() {
		var $row = $('<div class="row mt-2"></div>');
		var $col1 = $('<div class="col-lg-1 d-flex justify-content-center align-items-center"></div>');
		var i = '<i class="bi bi-dash-circle-fill" style="font-size: 1.5rem;"></i>';
		var $a = $('<a href="javascript:void(0);" class="text-danger remove-new-fields" data-new="taxonomy"></a>');
		var $col5 = $('<div class="col-lg-5"></div>');
		var $text = $('<input type="" name="provider_taxonomy_code[]" class="form-control" required placeholder="Taxonomy Code *">');
		var $col6 = $('<div class="col-lg-6"></div>');
		var select = $('<select class="form-select" required name="provider_taxonomy_specialty[]"><option>Specialty*</option></select>');

		$a.append(i);
		$col1.append($a);
		$col5.append($text);
		$col6.append(select);
		$row.append($col1);
		$row.append($col5);
		$row.append($col6);
		$('#taxonomies').append($row);
	}

	function createLicense() {
		var date = 'date'
		var $row = $('<div class="row mt-2"></div>');
		var $col1 = $('<div class="col-lg-1 d-flex justify-content-center align-items-center"></div>');
		var i = '<i class="bi bi-dash-circle-fill" style="font-size: 1.5rem;"></i>';
		var $a = $('<a href="javascript:void(0);" class="text-danger remove-new-fields" data-new="taxonomy"></a>');
		var $col4 = $('<div class="col-lg-4"></div>');
		var $text = $('<input type="text" name="provider_license_number[]" required class="form-control" placeholder="License Number">');
		var $col3_1 = $('<div class="col-lg-3"></div>')
		var $col3_2 = $('<div class="col-lg-4"></div>');
		var $date1 = $('<input type="text" name="provider_license_effective_date[]" required class="form-control" placeholder="License Effective Date *" onfocus="(this.type = '+date+')">');
		var $date2 = $('<input type="text" name="provider_license_expiration_date[]" required class="form-control" placeholder="License Expiration Date *" onfocus="(this.type = '+date+')">');
		$a.append(i);
		$col1.append($a);
		$col4.append($text);
		$col3_1.append($date1)
		$col3_2.append($date2);
		$row.append($col1,$col4,$col3_1,$col3_2);
		$('#licenses').append($row);
	}

	function createNPLicense() {
		var $row = $('<div class="row mt-2"></div>');
		var $col1 = $('<div class="col-lg-1 d-flex justify-content-center align-items-center"></div>');
		var i = '<i class="bi bi-dash-circle-fill" style="font-size: 1.5rem;"></i>';
		var $a = $('<a href="javascript:void(0);" class="text-danger remove-new-fields" data-new="taxonomy"></a>');
		var $col4 = $('<div class="col-lg-4"></div>');
		var $text = $('<input type="text" name="provider_np_license_number[]" required class="form-control" placeholder="NP License Number">');
		var $col3_1 = $('<div class="col-lg-3"></div>')
		var $col3_2 = $('<div class="col-lg-4"></div>');
		var $date1 = $('<input type="text" name="provider_np_license_effective_date[]" required class="form-control" placeholder="NP License Effective Date *" onfocus="(this.type = "date")">');
		var $date2 = $('<input type="text" name="provider_np_license_expiration_date[]" required class="form-control" placeholder="NP License Expiration Date *" onfocus="(this.type = "date")">');
		$a.append(i);
		$col1.append($a);
		$col4.append($text);
		$col3_1.append($date1)
		$col3_2.append($date2);
		$row.append($col1,$col4,$col3_1,$col3_2);
		$('#np_licenses').append($row);
	}

	function createRNLicense() {
		var $row = $('<div class="row mt-2"></div>');
		var $col1 = $('<div class="col-lg-1 d-flex justify-content-center align-items-center"></div>');
		var i = '<i class="bi bi-dash-circle-fill" style="font-size: 1.5rem;"></i>';
		var $a = $('<a href="javascript:void(0);" class="text-danger remove-new-fields" data-new="taxonomy"></a>');
		var $col4 = $('<div class="col-lg-4"></div>');
		var $text = $('<input type="text" name="provider_rn_license_number[]" required class="form-control" placeholder="RN License Number">');
		var $col3_1 = $('<div class="col-lg-3"></div>')
		var $col3_2 = $('<div class="col-lg-4"></div>');
		var $date1 = $('<input type="text" name="provider_rn_license_effective_date[]" required class="form-control" placeholder="RN License Effective Date *" onfocus="(this.type = "date")">');
		var $date2 = $('<input type="text" name="provider_rn_license_expiration_date[]" required class="form-control" placeholder="RN License Expiration Date *" onfocus="(this.type = "date")">');
		$a.append(i);
		$col1.append($a);
		$col4.append($text);
		$col3_1.append($date1)
		$col3_2.append($date2);
		$row.append($col1,$col4,$col3_1,$col3_2);
		$('#rn_licenses').append($row);
	}

</script>

