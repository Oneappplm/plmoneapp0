<div class="col-lg-12 card p-3 mb-3">
<div class="row">
  <div class="col-lg-12 d-flex justify-content-end">
    <a href="<%= custom_provider_source_path(page: 'licensure', remove_record: 'licensure', id: licensure.id)%>" class="btn btn-danger btn-sm">Delete</a>
  </div>
</div>

<div class="row mb-3">
   <div class="col-lg-12">
      <%= HtmlUtils::dropdown_with_model name: 'state', label: 'Licensure State', model: 'licensure', modelId: "#{licensure.id}" %>
   </div>
</div>
<div class="row mb-3">
   <div class="col-lg-12">
      <label class="text-dark-grey">License Type <span class="text-danger">*</span></label>
      <input type="text" name="license_type" required class="form-control border-dark multi-field
         ">
   </div>
</div>
<div class="row mb-3">
   <div class="col-lg-6">
      <label class="text-dark-grey">License Number <span class="text-danger">*</span></label>
      <input type="text" name="license_number" required class="form-control border-dark multi-field
         " placeholder="License Number" value="<%= licensure.license_number%>" data-model="licensure" data-id="<%= licensure.id %>">
   </div>
   <div class="col-lg-6">
      <label class="text-dark-grey">License Status <span class="text-danger">*</span></label>
      <input type="text" name="license_status" required class="form-control border-dark multi-field
         ">
   </div>
</div>
<div class="row mb-3">
   <div class="col-lg-6">
      <label class="text-dark-grey">Issue Date <span class="text-danger">*</span></label>
      <input type="date" name="licensure_issue_date" required class="form-control border-dark multi-field" data-model="licensure" data-id=<%= licensure.id %> value="<%= licensure.licensure_issue_date%>">
   </div>
   <div class="col-lg-6">
      <label class="text-dark-grey">Expiration Date <span class="text-danger">*</span></label>
      <input type="date" name="licensure_expiration_date"  required class="form-control border-dark licensure-expire multi-field"  data-model="licensure" data-id=<%= licensure.id %> value="<%= licensure.licensure_expiration_date%>" >
      <span class="d-flex gap-2">
      <input type="checkbox" name="licensure_not_expire" id="licensure-not-expire" data-model="licensure" data-id=<%= licensure.id %> value="<%= licensure.licensure_not_expire%>">
      <small>Does not expire</small>
      </span>
   </div>
</div>
<div class="row mb-3">
   <div class="col-lg-12">
      <div class="d-flex justify-content-between my-3">
         <label class="form-label">Are you currently practicing in this state? <span class="text-danger">*</span></label>
         <div class="d-flex me-4 gap-2">
            <span>
            <input type="radio" value="yes" name="licensure_practice_state" class="multi-field" data-model="licensure" data-id="<%= licensure.id %>" required>
            <span>YES</span>
            </span>
            <span>
            <input type="radio" value="no" name="licensure_practice_state" class="multi-field" data-model="licensure" data-id="<%= licensure.id %>" required>
            <span>NO</span>
            </span>
         </div>
      </div>
   </div>
</div>
<div class="row mb-3">
   <div class="col-lg-12">
      <div class="d-flex justify-content-between my-3">
         <label class="form-label">Is this your primary license? <span class="text-danger">*</span></label>
         <div class="d-flex me-4 gap-2">
            <span>
            <input type="radio" value="yes" name="licensure_primary_license" class="multi-field" data-model="licensure" data-id="<%= licensure.id %>" required>
            <span>YES</span>
            </span>
            <span>
            <input type="radio" value="no" name="licensure_primary_license" class="multi-field" data-model="licensure" data-id="<%= licensure.id %>" required>
            <span>NO</span>
            </span>
         </div>
      </div>
   </div>
</div>
<div class="row mb-3">
   <div class="col-lg-12">
      <div class="d-flex justify-content-between my-3">
         <label class="form-label">Does this license require supervision? <span class="text-danger">*</span></label>
         <div class="d-flex me-4 gap-2">
            <span>
            <input type="radio" value="yes" name="licensure_require_supervision" class="multi-field" data-model="licensure" data-id="<%= licensure.id %>" required>
            <span>YES</span>
            </span>
            <span>
            <input type="radio" value="no" name="licensure_require_supervision" class="multi-field" data-model="licensure" data-id="<%= licensure.id %>" required>
            <span>NO</span>
            </span>
         </div>
      </div>
   </div>
</div>
<div class="row mt-3 d-none" id="supervised_fields">
   <div class="col-lg-12">
      <h5>Name of Sponsor</h5>
   </div>
   <div class="col-lg-4">
      <label class="text-dark-grey">First Name</label>
      <input type="text" name="licensure_sponsor_fname" class="form-control border-dark multi-field" placeholder="First Name"  data-model="licensure" data-id=<%= licensure.id %> value="<%= licensure.licensure_sponsor_fname%>">
   </div>
   <div class="col-lg-2">
      <label class="text-dark-grey">Middle Name</label>
      <input type="text" name="licensure_sponsor_mname" class="form-control border-dark multi-field" placeholder="Middle Name"  data-model="licensure" data-id=<%= licensure.id %> value="<%= licensure.licensure_sponsor_mname%>">
   </div>
   <div class="col-lg-4">
      <label class="text-dark-grey">Last Name</label>
      <input type="text" name="licensure_sponsor_lname" class="form-control border-dark multi-field" placeholder="Last Name"  data-model="licensure" data-id=<%= licensure.id %> value="<%= licensure.licensure_sponsor_lname%>">
   </div>
   <div class="col-lg-2">
      <label class="text-dark-grey">Suffix</label>
      <select class="form-select border-dark" placeholder="Suffix" name="licensure_sponsor_suffix" placeholder="Suffix"  data-model="licensure" data-id=<%= licensure.id %> value="<%= licensure.licensure_sponsor_suffix%>">
         <option>Suffix</option>
         <option>Jr.</option>
         <option>Sr.</option>
         <option>III.</option>
         <option>IV.</option>
      </select>
   </div>
   <div class="col-lg-12 mt-3">
      <label class="text-dark-grey">Degree</label>
      <input type="text" name="licensure_sponsor_degree" class="form-control border-dark multi-field" placeholder="Degree"  data-model="licensure" data-id=<%= licensure.id %> value="<%= licensure.licensure_sponsor_degree%>">
   </div>
</div>
</div>
<script>
	$('input[name=licensure_require_supervision]').on('change',function(){
		$(this).val() == 'yes' ? $('#supervised_fields').removeClass('d-none') : $('#supervised_fields').addClass('d-none');
	})

   $('#licensure-not-expire').on('change',function(){
    console.log($(this).prop('checked'));
    if($(this).prop('checked'))
    {
      $('.licensure-expire').prop('disabled', true);
      $('.licensure-expire').val('');
    }
    else
      $('.licensure-expire').removeAttr('disabled');

   });
</script>
