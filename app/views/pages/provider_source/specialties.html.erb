<div class="content container-fluid ps-0">
   <%= render "provider_source_components/top_buttons"%>
   <div  class="row">
      <div class="col-lg-3">
         <%= render "provider_source_components/sub_navbar"%>
      </div>
      <div class="col-lg-9">
         <div class="row border border-4 p-3">
            <div class="col-lg-12">
               <%= render partial: "provider_source_components/header_title", locals: {title: "Specialties", icon: 'bi-person-bounding-box'}%>
               <%#= render partial: "provider_source_components/progress_bar", locals: {percent: (@provider.specialties_progress)}%>
            
        <% steps = [['Specialties', 'active', 'javascript:void(0);', 'specialties_progress_v2']]%>
        <%= render partial: "provider_source_components/progress_bar", locals: { steps: steps }%>
            </div>
            <div class="col-lg-12 px-0">
               <div class="alert alert-info alert-light-blue d-flex align-items-center">
                  <i class="bi bi-info-circle" style="font-size: 20px;"></i>
                  <small class="ms-2 fw-semibold text-dark-grey">Please add all specialty types you with to be credentialed in.</small>
               </div>
            </div>
            <div class="col-lg-12 card py-3 mb-3">
               <h4 class="fw-semibold text-secondary mb-3">Specialties</h4>
               <div class="alert alert-info alert-light-blue d-flex align-items-center">
                  <i class="bi bi-info-circle" style="font-size: 20px;"></i>
                  <small class="ms-2 fw-semibold text-dark-grey">Please enter all practicing specialty information.</small>
               </div>
               <div class="d-flex align-items-center divider gap-3 my-3">
                  <span class="line flex-grow-1 bg-medium-grey"></span>
                  <div class="bg-medium-grey rounded px-3 py-2">
                     <h6 class="my-0 text-secondary">SPECIALTY</h6>
                  </div>
                  <span class="line flex-grow-1 bg-medium-grey"></span>
               </div>
               <div class="row mb-3">
                  <div class="col-lg-6">
                     <div class="form-group">
                        <!-- <input type="" name="ranking" class="form-control border-dark" placeholder="Ranking*"> -->
                        <label class="text-dark-grey">Ranking <span class="text-danger">*</span></label>
                        <select name="special_ranking" class="form-select border-dark">
                           <option value="">Ranking*</option>
                           <option value="Primary">Primary</option>
                           <option value="Secondary">Secondary</option>
                        </select>
                     </div>
                  </div>
                  <div class="col-lg-6">
                     <div class="form-group">
                       <%= HtmlUtils::dropdown name: 'specialty', label: 'Specialty <span class="text-danger"> *</span>' %>
                     </div>
                  </div>
               </div>
                <div class="d-flex align-items-center my-3 gap-3">
                  <label class="mb-0">Are/We you board certified in this specialty?</label>
                  
                  <div class="d-flex gap-2">
                    <input type="radio" name="specialties_certified" value="yes" id="certified_yes">
                    <span>YES</span>
                  </div>

                  <div class="d-flex gap-2">
                    <input type="radio" name="specialties_certified" value="no" id="certified_no">
                    <span>NO</span>
                  </div>
                </div>
                <!-- Hidden Fields (Shown when YES is selected) -->
                <div id="certification_fields" style="display: none;">
                  <div class="row">
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey"> Certifying Board<span class="text-danger">*</span></label>
                      <input type="text" name="specialties_crtifiying_board" class="form-control border-dark">
                    </div>
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey"> Address Line 1<span class="text-danger">*</span></label>
                      <input type="text" name="specialties_address_line_1" class="form-control border-dark">
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey"> Address Line 2<span class="text-danger">*</span></label>
                      <input type="text" name="specialties_address_line_2" class="form-control border-dark">
                    </div>
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey"> City<span class="text-danger">*</span></label>
                      <input type="text" name="specialties_city" class="form-control border-dark">
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey"> State<span class="text-danger">*</span></label>
                      <input type="text" name="specialties_state" class="form-control border-dark">
                    </div>
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey">Zip Code<span class="text-danger">*</span></label>
                      <input type="text" name="specialties_zip" class="form-control border-dark">
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey">Board Certification Number<span class="text-danger">*</span></label>
                      <input type="text" name="specialties_bord_certificate" class="form-control border-dark">
                    </div>
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey">Telephone Number<span class="text-danger">*</span></label>
                      <input type="text" name="specialties_telephone" class="form-control border-dark">
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey">Initial Certification Date (MM/DD/YYYY)<span class="text-danger">*</span></label>
                      <input type="date" name="specialties_initial_date" class="form-control border-dark">
                    </div>
                    <div class="col-lg-6 mb-3">
                      <label class="text-dark-grey">Certification Expiration Date (MM/DD/YYYY)<span class="text-danger">*</span></label>
                      <input type="date" name="specialties_exipration_date" class="form-control border-dark">
                    </div>
                  </div>
                </div>
               <div class="row mb-3">
                  <!-- <div class="col-lg-6"> -->
                  <div class="col-lg-6">
                     <div class="d-flex align-items-center my-3">
                        <%= HtmlUtils.radio_toggle name: 'specialties_ppo_directory',
                        label: 'Do you wish to be listed in the PPO Directory under <br>
                         this specialty? <span class="text-danger"> *</span>',
                        hidden_field: true
                        %>
                     </div>
                  </div>
                  <div class="col-lg-6">
                     <div class="d-flex align-items-center my-3">
                        <%= HtmlUtils.radio_toggle name: 'specialties_pos_directory',
                        label: 'Do you wish to be listed in the POS Directory under <br>
                         this specialty? <span class="text-danger"> *</span>',
                        hidden_field: true
                        %>
                     </div>
                  </div>
               </div>
               <div class="row mb-2">
                  <div class="col-lg-6">
                     <div class="d-flex align-items-center my-3">
                        <%= HtmlUtils.radio_toggle name: 'specialties_provider_directory',
                        label: 'Do you wish to be listed in the Provider Directory under <br>
                        this specialty?',
                        hidden_field: true
                        %>
                     </div>
                  </div>
                  <div class="col-lg-6">
                     <div class="d-flex align-items-center my-3">
                        <%= HtmlUtils.radio_toggle name: 'specialties_hmo_directory',
                        label: 'Do you wish to be listed in the HMO Directory under <br>
                         this specialty?',
                        hidden_field: true
                        %>
                     </div>
                  </div>
               </div>
               <div class="row mb-2">
                  <div class="col-lg-6">
                     <div class="d-flex align-items-center my-3">
                        <%= HtmlUtils.radio_toggle name: 'specialties_board',
                        label: 'Are/Were you certified by any board in this specialty?',
                        hidden_field: true
                        %>
                     </div>
                  </div>
                  <div class="col-lg-6">
                     <div class="d-flex align-items-center my-3">
                        <%= HtmlUtils.radio_toggle name: 'specialties_certified',
                        label: 'Are you eligible to be certified in this specialty?',
                        hidden_field: true
                        %>
                     </div>
                  </div>
               </div>
            </div>
            <div class="col-lg-12 card py-3 mb-3">
               <div class="row mb-3">
   							<div class="col-lg-12">
								<div class="d-flex justify-content-between">
										<label class="text-dark-grey">Have you ever failed to pass a specialty board examination? <span class="text-danger"> *</span></label>
									<div class="d-flex me-4 gap-2">
										<div class="gap-2"> 
											<input type="radio" name="specialties_board_exam" class="radio-with-form" data-form='failed_exam_board' value="yes" checked='checked'>
											<span>YES</span>
										</div>	
										<div class="gap-2">
											<input type="radio" name="specialties_board_exam" class="radio-with-form" data-form='failed_exam_board' value="no" >
											<span>NO</span>
										</div>
									</div>
								</div>	
						    </div>	
						</div>	
							<div class="<%= toggle_hide_current_provider_source('specialties_board_exam', @provider) %>" id="failed_exam_board">
								<%= render partial: 'provider_source_components/failed_exam_form'%>
							</div>
               <!-- <h4 class="fw-semibold text-secondary mb-3">Failed Exams</h4>
               <div class="d-flex align-items-center my-3">
                  <%= HtmlUtils.radio_toggle name: 'specialties_board_exam',
                     label: 'Have you ever failed to pass a specialty board examination? <span class="text-danger"> *</span>',
                     toshow: 'failed_exam_board',
                     hidden_field: true
                  %>
               </div>
                <div class="<%=toggle_hide('specialties_board_exam')%>" id="failed_exam_board">
               <%= render "provider_source_components/failed_exam_form"%>
               </div> -->
            </div>
            <div class="col-lg-12 card py-3 mb-3">
               <h4 class="fw-semibold text-secondary mb-3">Population Served</h4>
               <div class="row mb-3">
                  <div class="col-lg-6">
                     <label class="text-dark-grey">Requesting priviliges for the target populations (can be multiple)</label>
                     <select class="form-select border-dark" placeholder="Suffix" name="target_population_privileges">
                        <option value="">Select Option</option>
                     </select>
                  </div>
                  <div class="col-lg-6">
                     <label class="text-dark-grey">Employment Type (can be multiple)</label>
                      <select class="form-select border-dark" name="populations_employment_type">
                          <option value="">Select Option</option>
                          <option value="children_0_8">Children (0-8 years)</option>
                          <option value="children_idd_dd_7_17">Children with IDD/DD (7-17 years)</option>
                          <option value="children_sed_7_17">Children with SED (7-17 years)</option>
                          <option value="autism_benefit_screening">Autism Benefit Screening</option>
                          <option value="infant_mental_health">Infant Mental Health</option>
                          <option value="aba_services">ABA Services</option>
                          <option value="adults_mental_illness">Adults with Mental Illness</option>
                          <option value="adults_idd_dd">Adults with IDD/DD</option>
                          <option value="adults_sud">Adults with SUD</option>
                          <option value="children_sud">Children with SUD</option>
                          <option value="co_occurring">Co-Occurring</option>
                      </select>
                  </div>
               </div>
               <div class="row mb-3">
                  <div class="col-lg-6">
                  <label class="text-dark-grey">Population being served (can be multiple)</label>
                  <%= HtmlUtils::dropdown name: 'populations_served', multiple: true %>
                  </div>
               </div>
               <div class="col-lg-12">
								<div class="d-flex justify-content-between">
									<%= HtmlUtils.radio_options name: 'specialty_student_intern', label: 'Are you student intern?' %>
								</div>
					</div>
               <div class="form-group mb-3">
               	<label class="text-dark-grey">Other informations</label>
               	<textarea name="populations-infos" class="form-control border-dark" rows="8">
               	</textarea>
               	<label class="text-dark-grey">2500 max characters</label>
               </div>
               <div class="form-group">
               	<label class="text-dark-grey">Other areas of professional practice interest, activieties, procedures, diagnoses or populations:</label>
               	<textarea name="populations-served" class="form-control border-dark" rows="8">

               	</textarea>
               	<label class="text-dark-grey">2500 max characters</label>
               </div>

            </div>
         </div>
      </div>
   </div>
</div>
<!-- JavaScript to Toggle Fields -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const yesOption = document.getElementById("certified_yes");
    const noOption = document.getElementById("certified_no");
    const fieldsDiv = document.getElementById("certification_fields");

    noOption.checked = true;
    fieldsDiv.style.display = "none";

    function toggleFields() {
      if (yesOption.checked) {
        fieldsDiv.style.display = "block";
      } else {
        fieldsDiv.style.display = "none";
      }
    }

    yesOption.addEventListener("change", toggleFields);
    noOption.addEventListener("change", toggleFields);
  });
</script>
