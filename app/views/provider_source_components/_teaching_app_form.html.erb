<div class="row mb-3">
	<div class="col-lg-6">
		<%= HtmlUtils::dropdown name: 'taf-location', label: 'Teaching Program Location <span class="text-danger"> *</span>' %>
	</div>
</div>
<div class="row mb-3">
	<div class="col-lg-12">
		<label class="form-label">Teaching Program Name <span class="text-danger">*</span></label>
		<input type="text" class="form-control border-dark" name="taf-psn">
		<div class="validation-error-msg text-danger small d-none"></div>
	</div>
</div>

<div class="row mb-3">
	<div class="col-lg-6">
		<label class="form-label">Address Line 1 <span class="text-danger">*</span></label>
		<input type="text" class="form-control border-dark" name="taf-address-line1">
	</div>
	<div class="col-lg-6">
		<label class="form-label">Address Line 2</label>
		<input type="text" class="form-control border-dark" name="taf-address-line2">
	</div>
</div>

<div class="row mb-3">
	<div class="col-lg-6">
		<label class="form-label">City <span class="text-danger">*</span></label>
		<input type="text" class="form-control border-dark" name="taf-city">
		<div class="validation-error-msg text-danger small d-none"></div>
	</div>
	<div class="col-lg-6">
		<label class="form-label">Zip Code <span class="text-danger">*</span></label>
		<input type="text" class="form-control border-dark" name="taf-zipcode">
		<div class="validation-error-msg text-danger small d-none"></div>
	</div>
</div>

<div class="row mb-3">
	<div class="col-lg-6">
		<div class="row">
			<div class="col-lg-8">
				<label class="form-label">Telephone Number</label>
				<input type="text" class="form-control border-dark" name="taf-telephone-number">
				<div class="validation-error-msg text-danger small d-none"></div>
			</div>
			<div class="col-lg-4">
				<label class="form-label">Ext</label>
				<input type="text" class="form-control border-dark" name="taf-ext">
				<div class="validation-error-msg text-danger small d-none"></div>
			</div>
		</div>
	</div>
	<div class="col-lg-6">
		<label class="form-label">Fax Number</label>
		<input type="text" class="form-control border-dark" name="taf-fax-number">
		<div class="validation-error-msg text-danger small d-none"></div>
	</div>
</div>
<div class="row mb-3">
	<div class="col-lg-5">
		<label class="form-label">Email</label>
		<input type="email"  class="form-control border-dark" name="taf-email">
		<div class="validation-error-msg text-danger small d-none"></div>
	</div>
</div>
<div class="row mb-3">
	<div class="col-lg-6">
		<label class="form-label">Program Director First Name</label>
		<input type="text" class="form-control border-dark" name="taf-pd-first-name">
		<div class="validation-error-msg text-danger small d-none"></div>
	</div>
	<div class="col-lg-6">
		<label class="form-label">Program Director Last Name</label>
		<input type="text" class="form-control border-dark" name="taf-pd-last-name">
		<div class="validation-error-msg text-danger small d-none"></div>
	</div>
</div>
<div class="row mb-3">
	<div class="col-lg-12">
		<label class="form-label">Program Director Degree</label>
		<input type="text" name="taf-pd-degree" class="form-control border-dark">
		<div class="validation-error-msg text-danger small d-none"></div>
	</div>
</div>
<div class="row mb-3">
	<div class="col-lg-12">
		<label class="form-label">Academic Rank or Title</label>
		<input type="text" name="taf-ar-degree" class="form-control border-dark">
		<div class="validation-error-msg text-danger small d-none"></div>
	</div>
</div>
<div class="row mb-3">
	<div class="col-lg-6">
		<label class="form-label">Start Date</label>
		<input type="date" class="form-control border-dark" name="taf-start-date">
	</div>
	<div class="col-lg-6">
		<label class="form-label">End(Graduation) Date<span class="text-danger">*</span></label>
		<input type="date" class="form-control border-dark" name="taf-end-date">
		<span class="d-flex gap-2 ms-2">
			<input type="checkbox" name="taf-does-not-expire">
			<small>Does not expire</small>
		</span>
	</div>
</div>
<!-- <div class="row">
	<div class="col-lg-12 mb-3 d-flex justify-content-end">
		  	<button class="btn btn-primary">Save This Record</button>
	</div>
</div> -->

<script>
$(document).ready(function() {
  // Retrieve the saved value from Local Storage, if it exists
  var savedValue = localStorage.getItem('teachingEducationType');
  if (savedValue) {
    $('#teaching-education-type').val(savedValue); // Set the dropdown value
  }

  // Store the selected value in Local Storage when the dropdown value changes
  $('#teaching-education-type').on('change', function() {
    var selectedValue = $(this).val();
    localStorage.setItem('teachingEducationType', selectedValue);
  });
});

</script>


<script>
$(document).ready(function() {
  // Retrieve the saved value from Local Storage, if it exists
  var savedValue = localStorage.getItem('teachingSchoolLocation');
  if (savedValue) {
    $('#teaching-school-location').val(savedValue); // Set the dropdown value
  }

  // Store the selected value in Local Storage when the dropdown value changes
  $('#teaching-school-location').on('change', function() {
    var selectedValue = $(this).val();
    localStorage.setItem('teachingSchoolLocation', selectedValue);
  });
});

$(document).ready(function () {
  function showError($input, message) {
    $input.addClass('is-invalid');
    const $errorDiv = $input.siblings('.validation-error-msg');
    if ($errorDiv.length) {
      $errorDiv.text(message).removeClass('d-none');
    }
  }

  function clearError($input) {
    $input.removeClass('is-invalid');
    const $errorDiv = $input.siblings('.validation-error-msg');
    if ($errorDiv.length) {
      $errorDiv.addClass('d-none');
    }
  }

  const validators = [
    {
      selector: 'input[name="taf-city"], input[name="taf-pd-first-name"], input[name="taf-pd-last-name"], input[name="taf-psn"]',
      regex: /^[a-zA-Z\s]*$/,
      message: 'Only alphabets and spaces allowed.'
    },
    {
      selector: 'input[name="taf-zipcode"]',
      regex: /^\d{5,6}$/,
      message: 'Zip code must be 5 or 6 digits.'
    },
    {
      selector: 'input[name="taf-email"]',
      regex: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
      message: 'Enter a valid email address.'
    },
    {
      selector: 'input[name*="telephone-number"], input[name*="fax-number"], input[name*="ext"]',
      regex: /^[0-9+\-\s]*$/,
      message: 'Only numbers, +, and - are allowed.'
    },
    {
      selector: 'input[name="taf-pd-degree"], input[name="taf-ar-degree"]',
      regex: /^[a-zA-Z.\s]*$/,
      message: 'Only alphabets, spaces, and periods allowed.'
    }
  ];

  validators.forEach(({ selector, regex, message }) => {
    $(document).on('input', selector, function () {
      const $this = $(this);
      if (!regex.test($this.val())) {
        showError($this, message);
      } else {
        clearError($this);
      }
    });
  });
});

</script>