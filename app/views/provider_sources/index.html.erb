<!-- Path: plmhealthone-app/app/views/provider_sources/index.html.erb -->
<div class="content container-fluid">
   <div class="row">
      <div class="col-lg-12">
         <%= render "provider_source_components/top_buttons"%>
      </div>
   </div>
   <div class="row">
      <div class="col-lg-8">
         <%= render "provider_source_components/header_searchbar"%>  
      </div>
      <%# <div class="col-lg-4 mt-4">
         <div class="d-flex gap-4 align-items-center">
           <div>
             <label class="text-dark-grey">Show limit</label>
             <span class="border px-3">20</span>
           </div>
           <div>
             <label class="text-dark-grey">Page 0 of 0</label>
             <span class="border px-3">0</span>
           </div>
         </div>
      </div> %>
   </div>

   <div class="row">
      <div class="col-lg-12">
         <div class="card">
            <div class="card-header">
               <h4 class="card-title">Provider Source Lists</h4>
            </div>
            <div class="card-body">
               <div class="table-responsive">
                  <table class="table table-striped mb-0">
                     <thead>
                        <tr>
                           <th colspan="1"  class="text-white">
                              <span>Name</span>
                           </th>
                           <th colspan="1"  class="text-white">
                              <span>Current Provider Source?</span>
                           </th>
                           <th colspan="1"  class="text-white">
                              <span>States</span>
                           </th>

                           <th colspan="1"  class="text-white">
                             Added by
                           </th>
                           <th colspan="1"  class="text-white">
                              <span>Action</span>
                           </th>
                        </tr>
                     </thead>
                     <tbody>
                        <% @provider_sources.each do |provider_source| %>
                        <tr>
                           <td><%= provider_source&.full_name %></td>
                           <td><%= provider_source&.current_provider_source? %></td>
                           <td><%= provider_source&.states %></td>

                           <td>
                             <%= provider_source&.created_by&.full_name %>
                           </td>

                           <td>
                            <% if (provider_source.created_by_user == current_user.id) || provider_source.created_by_user.nil? %>
                              <div class="d-flex gap-2">
                                 <%= link_to 'Edit & Set As Current Provider Source', edit_provider_source_path(provider_source), class: 'btn btn-sm btn-primary text-wrap' %>
                                 <%= button_to 'Delete', provider_source_path(provider_source), method: :delete, class: 'btn btn-sm btn-danger' if !provider_source.current_provider_source %>
                              </div>
                              <% end %>

                           </td>
                        </tr>
                        <% end %>
                     </tbody>
                  </table>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
