<tr>
		<th scope="row"><%= link_to provider.provider_name, (action_name == "index" ? provider_path(provider) : providers_path), class: 'text-secondary' %></th>
		<td><%= link_to provider.practitioner_type, (action_name == "index" ? provider_path(provider) : providers_path), class: 'text-secondary'%></td>
		<td><%= link_to provider.ssn,  (action_name == "index" ? provider_path(provider) : providers_path), class: 'text-secondary' %></td>
		<td><%= link_to provider.npi,  (action_name == "index" ? provider_path(provider) : providers_path), class: 'text-secondary' %></td>
		<td>
			<div class="d-flex gap-2">
  <%= link_to edit_provider_path(provider), class: 'btn btn-xs btn-primary' do %>
    <i class="bi bi-pencil"></i>
  <% end %>
 <%= button_to provider_path(provider), method: :delete, class: 'btn btn-xs btn-danger', id: "delete-provider-#{provider.id}" do %>
    <i class="bi bi-trash"></i>
  <% end %>
</div>
		</td>
</tr>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const deleteButtons = document.querySelectorAll('[id^="delete-provider-"]');

    deleteButtons.forEach(function(button) {
      let confirmationAccepted = false;

      button.addEventListener('click', function(event) {
        event.preventDefault();

        if (confirmationAccepted) {
          return; // Ignore subsequent clicks
        }

        const confirmation = confirm('Are you sure you want to delete this provider?');
        if (confirmation) {
          confirmationAccepted = true; // Set the flag to indicate confirmation is accepted
          const form = button.closest('form');
          form.submit();
        }
      });
    });
  });
</script>


