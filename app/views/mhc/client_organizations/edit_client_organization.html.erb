<div class="enc-content">
   <%= form_with url: load_client_organization_mhc_client_organizations_path, method: :post, local: true do |f| %>
      <div class="container-fluid">
         <div class="row">
            <div class="col-xl-12">
               <%#= render partial: "verification_platform/encompass_nav" %>
            </div>
         </div>
         <div class="row mb-3">
            <div class="col-xl-12 mb-1">
               <h2>
                  <a href="<%= mhc_manage_clients_path %>" class="d-flex gap-2 text-secondary">
                     <i class="bi bi-arrow-left h5 d-flex align-items-center"></i>
                     <span class="h1"><%= 'Edit Organization' %></span>
                  </a>
               </h2>
            </div>
         </div>

         <div class="form-row row mb-3">
            <div class="col-xl-9 mt-2 mb-2">
                <label for="organization_id">Select Organization</label>
                <%= select_tag 'client_organization_id',
                     options_from_collection_for_select(ClientOrganization.all, :id, :organization_name),
                     prompt: 'Select an organization',
                     class: 'form-select' %>

            </div>
            <div class="col-xl-3 mt-2 mb-2">
               <%= f.submit 'Select Organization', class: 'btn btn-primary py-1 mt-4' %>
               <%= link_to 'clear', edit_client_organization_mhc_client_organizations_path, class: 'btn btn-danger py-1 mt-4'  %>
            </div>
         </div>
    <% end %>

    <% if @client_organization %>
      <h2>Editing Provider: <%= @client_organization.organization_name %></h2>

      <%= form_with(model: @client_organization, url: mhc_client_organizations_path, local: true) do |f| %>

        <div class="form-row row mb-3">
            <div class="col-xl-6 mt-2 mb-2">
               <label for="">Organization Name</label>
            <%= f.text_field :organization_name, class: 'form-control', placeholder: 'Type here...'%>
            </div>
            <div class="col-xl-6 mt-2 mb-2">
               <label for="">Primary Service</label>
            <%= f.select :primary_service, ClientOrganization::PRIMARY_SERVICE, { prompt: true },  { class: 'form-select', placeholder: 'Type here...' } %>
            </div>
         </div>

         <div class="form-row row mb-3">
            <div class="col-xl-6 mt-2 mb-2">
               <label for="">Tin Number</label>
               <%= f.text_field :tin_number, class: 'form-control', placeholder: 'Type here...'%>
            </div>
            <div class="col-xl-6 mt-2 mb-2">
               <label for="">Tin Name</label>
               <%= f.text_field :tin_name, class: 'form-control', placeholder: 'Type here...'%>
            </div>
         </div>

         <div class="form-row row mb-3">
            <div class="col-xl-6 mt-2 mb-2">
               <label for="">NPI Number</label>
               <%= f.text_field :organization_npi, class: 'form-control', placeholder: 'Type here...'%>
            </div>
            <div class="col-xl-6 mt-2 mb-2">
               <label for="">Facility Type</label>
               <%= f.select :organization_facility_type, ClientOrganization::FACILITY_TYPE, { prompt: true },  { class: 'form-select', placeholder: 'Type here...' }%>
            </div>
         </div>

         <div class="form-row row mb-3 text-dark">
            <div>Status</div>
            <div class="col-xl-2 mt-2 mb-2">
               <%= f.radio_button :credential, id: "organization_credential" %>
               <%= f.label :credential, "Credential (Appointment)", for: "organization_credential" %>
            </div>
            <div class="col-xl-2 mt-2 mb-2">
               <%= f.radio_button :recredential, id: "organization_recredential" %>
               <%= f.label :recredential, "Recredential (Reappointment)", for: "organization_recredential" %>
            </div>
         </div>

         <div class="border p-4">
            <div class="bg-primary fw-bold fs-4 p-1 text-dark">Credentialing Contact</div>

            <div class="mt-3">
               <label>Contact Method</label>
              <%= f.select :contact_method, options_for_select(["Do Not Send", "Letter", "Email", "Phone"]), { prompt: true }, class: "form-control" %>
            </div>

            <div class="form-row row mb-3">
               <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :contact_first_name, "First Name" %>
                  <%= f.text_field :contact_first_name, class: "form-control" %>
                </div>

                <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :contact_middle_name, "Middle Name" %>
                  <%= f.text_field :contact_middle_name, class: "form-control" %>
                </div>
            </div>

            <div class="form-row row mb-3">
               <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :contact_last_name, "Last Name" %>
                  <%= f.text_field :contact_last_name, class: "form-control" %>
                </div>

                <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :contact_suffix, "Suffix" %>
                  <%= f.select :contact_suffix, options_for_select([["Dr."], ["Madam"], ["Maj."], ["Miss"], ["Mr"], ["Mrs"], ["Ms"], ["Sir"]]), { prompt: true }, { class: "form-select" } %>
                </div>
            </div>

            <div class="form-row row mb-3">
               <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :organization_phone_number, "Phone Number" %>
                  <%= f.text_field :organization_phone_number, class: "form-control" %>
                </div>

                <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :organization_fax_number, "Fax Number" %>
                  <%= f.text_field :organization_fax_number, class: "form-control" %>
                </div>
            </div>

             <div class="form-row row mb-3">
               <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :email_address, "Email Address" %>
                  <%= f.text_field :email_address, class: "form-control" %>
                </div>

                <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :organization_address_1, "Address" %>
                  <%= f.text_field :organization_address_1, class: "form-control" %>
                </div>
            </div>

            <div class="form-row row mb-3">
               <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :mail_stop, "Suite/Apt" %>
                  <%= f.text_field :mail_stop, class: "form-control" %>
                </div>

                <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :organization_address_2, "Additional Address" %>
                  <%= f.text_field :organization_address_2, class: "form-control" %>
                </div>
            </div>

            <div class="form-row row mb-3">
               <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :organization_city, "City" %>
                  <%= f.text_field :organization_city, class: "form-control" %>
                </div>

                <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :organization_country, "Country" %>
                  <%= f.text_field :organization_country, class: "form-control" %>
                </div>
            </div>

            <div class="form-row row mb-3">
               <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :organization_state_id, "State/Province" %>
                  <%= f.collection_select :organization_state_id, State.all, :id, :name, { prompt: true }, { class: "form-select" }%>
                </div>

                <div class="col-xl-6 mt-2 mb-2">
                  <%= f.label :organization_zipcode, "Zip/Postal Code" %>
                  <%= f.text_field :organization_zipcode, class: "form-control" %>
                </div>
            </div>

            <div class="col-xl-6 mt-2 mb-2">
               <%= f.label :organization_country, "Country" %>
               <%= f.text_field :organization_country, class: "form-control" %>
            </div>
         </div>

         <div class="form-row row mb-3">
            <div class="col-xl-6 mt-2 mb-2">
               <%= f.label :client_due_date, "Client Due Date" %>
               <%= f.date_field :client_due_date, class: "form-control" %>
            </div>

            <div class="col-xl-6 mt-2 mb-2">
               <%= f.label :client_batch_date, "Client Batch Date" %>
               <%= f.date_field :client_batch_date, class: "form-control" %>
            </div>
         </div>

         <div class="form-row row mb-3">
            <div class="col-xl-6 mt-2 mb-2">
               <%= f.label :client_batch_name, "Client Batch Name" %>
               <%= f.date_field :client_batch_name, class: "form-control", value: @client_organization.client_batch_name %>
            </div>

            <div class="col-xl-6 mt-2 mb-2">
               <%= f.label :client_batch_id, "Client Batch ID" %>
               <%= f.date_field :client_batch_id, class: "form-control", value: @client_organization.client_batch_id %>
            </div>
         </div>

        <div>
          <%= f.submit 'Update Organization', class: 'btn btn-success mt-3' %>
        </div>
      <% end %>
    <% end %>
</div>