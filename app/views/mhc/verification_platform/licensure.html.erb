<div class="enc-content">
	<div class="container">
		<%= render "top_nav_buttons"%>
		<div class="mt-4 d-flex align-items-end justify-content-between gap-3">
			<div class="d-flex align-items-center gap-3">
				<h4 class="page-heading">Licensure</h4>
				<div class="form-check form-switch">
					<input class="form-check-input" type="checkbox" id="practice-info-switch">
					<label class="form-check-label" for="practice-info-switch">Not Applicable</label>
				</div>
			</div>

			<%= link_to mhc_verification_platform_path(page_tab: 'add_new_licensure'), class: 'btn btn-primary py-1' do %>
        <i class='bx bx-plus'></i>
        Add New License
      <% end %>

		</div>
		<div class="mt-2 page-applicable">
			<span class="page-note">
				<i class='bx bx-error-circle font-red'></i> <span>Please list all medical/practice licenses held, present and past, beginning with your primary license(s). Required fields are marked with the symbol “<span class="font-red">*</span>”.</span>
			</span>
			<span class="page-note">
				<i class='bx bx-error-circle font-red'></i> <span>Please check the Not Applicable box if licensure does not apply to your practitioner type.</span>
			</span>
		</div>
		<div class="mt-3 mb-3 row page-applicable">
			<div class="col-xl-4">
	      <%= search_form_for @q, url: mhc_verification_platform_path(page_tab: 'licensure'), method: :get, html: { class: 'form_search_with_icon'} do |f|%>
	          <%= hidden_field_tag "page_tab", "licensure" %>
	          <div>
	             <%= f.text_field :license_number_cont, value: "#{params[:q][:license_number_cont] rescue ''}", placeholder: 'Search...', class: "form-control py-1" %>
	             <i class="bx bx-search"></i>
	          </div>
	       <% end %>
	     </div>
    </div>

		<%# <div class="row mt-3 page-applicable">
			<div class="col-xl-4">
				<div class="form-control enc-search-wrp">
					<input type="" name = "" class="enc-search-input" placeholder="Search">
					<i class='bx bx-search' ></i>
				</div>
			</div>
		</div> %>
		<% if params[:page_tab] == 'licensure' %>
			<div class="row result-controls page-applicable">
				<div class="col-xl-6 filter-result">
					<h6 class="">Result: <%= @provider_licensures.count %> records</h6>
				</div>
				<div class="col-xl-6">
	          <div class="table-controls">
	            <div class="control-wrp">
	              <label for="limit">Show limit</label>
	              <%= form_with(url: request.path, method: :get, local: true) do |f| %>
	                <%= f.select :limit, [10, 20, 50, 100],{ selected: @limit, onchange: 'this.form.submit()'}, {class: 'form-select'} %>
	              <% end %>
	            </div>
	            <div class="control-wrp">
	              <label for="page">Page <%= params[:page] || 1 %> of <%= @total_pages %></label>
	              <input type="text" id="page" class="form-control" value="<%= params[:page] || 1 %>" readonly>
	            </div>
	          </div>
	        </div>
			</div>
		<% end %>

		<table class="table table-bordered practice-table mt-3 page-applicable ">
			<thead>
				<tr>
					<th class="text-white" scope="col">State</th>
					<th class="text-white" >Type</th>
					<th class="text-white" >License Number</th>
					<th class="text-white">Expiration Date</th>
					<th class="text-white">Primary License?</th>
					<th class="text-white">Status</th>
				</tr>
			</thead>
			<tbody>
				<% @provider_licensures.each do |licensure| %>
				<tr>
					<td><%= licensure.state.name %></td>
					<td><%= licensure.license_type %></td>
					<td>
						<%= link_to mhc_verification_platform_path(page_tab: 'license_record', licensure_id: licensure.id) do %>
							<%= licensure.license_number %>
						<% end %>
					</td>
					<td><%= licensure.license_expiration_date %></td>
					<td><%= licensure.is_primary_license %></td>
					<td><%#= licensure.status %></td>
				</tr>
				<% end %>
			</tbody>
		</table>
		<form action="" class="page-not-applicable">
			<div class="form-row mt-4">
				<label for="">Please explain:<span class="font-red">*</span></label>
				<textarea name="not-applicable-explain" id="" cols="30" rows="5" class="form-control" required></textarea>
			</div>
			<div class="form-row mt-2 d-flex justify-content-end">
				<button type="submit" name ="save-not-app-explain" class="btn btn-primary py-1">
					Save
				</button>
			</div>
		</form>
	</div>
</div>
