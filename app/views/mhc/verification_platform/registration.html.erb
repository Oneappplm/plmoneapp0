
<div class="enc-content">
    <div class="container">
        <%= render "top_nav_buttons"%>
        <div class="mt-4 d-flex align-items-end justify-content-between gap-3">
            <div class="d-flex align-items-center gap-3">
                <h4 class="page-heading">Registration/Certification</h4>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="registration-switch">
                    <label class="form-check-label" for="registration-switch">Not Applicable</label>
                </div>
                <button class="btn btn-primary py-1 page-applicable">
                    Edit
                </button>
            </div>
        </div>
        <div class="mt-2 page-applicable">
            <span class="page-note">
                <i class='bx bx-error-circle font-red'></i> <span>Please complete the following for
                    registration/certification status. Required fields are marked with the symbol “<span
                        class="font-red">*</span>”.</span>
            </span>
            <span class="page-note">
                <i class='bx bx-error-circle font-red'></i> <span>Please check the Not Applicable button if you have
                    never enrolled in a professional education program.</span>
            </span>
        </div>
        <%# <div class="page-applicable">
            <div class="d-flex gap-2 mt-3">
                <button class="btn btn-primary py-1" data-bs-toggle="modal"
                data-bs-target="#verifLetterModal">
                    Verification Letter
                </button>
                <button class="btn btn-primary py-1">
                    Send Contact
                </button>
                <button class="btn btn-primary py-1">
                    View Scanned Images
                </button>
            </div>
        </div> %>
        <%# <div class="mt-3 row page-applicable">
            <div class="col-xl-5">
                <div class="left-pane">
                    <h6 class="offset-md-5">RVA Information</h6>
                    <div class="form-row row mt-4">
                        <div class="col-xl-4">
                            <button class="btn btn-pane">
                                Request
                            </button>
                        </div>
                        <div class="col-xl-4">
                            <button class="btn btn-pane">
                                Verification
                            </button>
                        </div>
                        <div class="col-xl-4">
                            <button class="btn btn-pane">
                                Audit
                            </button>
                        </div>
                    </div>
                    <div class="form-row row mt-2">
                        <div class="col-xl-6">
                            <button class="btn btn-pane" data-bs-toggle="modal"
                            data-bs-target="#QAModal">
                                Quality Audit
                            </button>
                        </div>
                        <div class="col-xl-6">
                            <button class="btn btn-pane">
                                Skip RVA
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-7">
                <div class="right-pane">
                    <div class="d-flex align-items-center justify-content-between">
                        <h6 class="offset-md-5">Message Board</h6>
                        <button class="btn btn-primary py-1" data-bs-toggle="modal" data-bs-target="#addCommentModal">
                            Add Comment
                        </button>
                    </div>
                    <div class="form-row mt-2">
                        <span class="btn span-pane" data-bs-toggle="modal" data-bs-target="#deleteCommentModal">
                            Subject: Incomplete Record
                        </span>
                    </div>
                </div>
            </div>
        </div> %>
        <div class="col-xl-6 p-2">
            <div class="card other-name-card">
                <div class="card-body">
                    <h2 class="offset-md-5">RVA Information</h2>
                    <div class="mt-3 row text-center">
                        <div class="col-12 m-2">
                            <button class="btn btn-primary btn-sm">
                                Request
                            </button>
                        </div>
                        <div class="col-12 m-2">
                            <button class="btn btn-primary btn-sm">
                                Verification
                            </button>
                        </div>
                        <div class="col-12 m-2">
                            <button class="btn btn-primary btn-sm">
                                Audit
                            </button>
                        </div>
                        <div class="col-12 m-2">
                            <button class="btn btn-primary btn-sm">
                                Quality Audit
                            </button>
                        </div>
                        <div class="col-12 m-2">
                            <button class="btn btn-primary btn-sm">
                                Skip RVA
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-row row page-applicable mt-3">
          <div class="col-xl-12">
            <div class="card other-name-card">
              <div class="card-body">
                <h1>DEA Number</h1>
                <div id="dea-forms-container">
                  <% @provider_deas.each_with_index do |provider_dea, index| %>
                    <%= render partial: 'dea_form', locals: { provider_dea: provider_dea, index: index } %>
                  <% end %>
                </div>

                <!-- Hidden Form Template -->
                <template id="dea-form-template">
                  <%= render partial: 'dea_form', locals: { provider_dea: ProviderDea.new, index: 'NEW_INDEX' } %>
                </template>

                <div class="form-row d-flex justify-content-center mt-4">
                  <button class="btn btn-primary py-1" id="add-dea-button">Add DEA Number</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <script>
          document.addEventListener('DOMContentLoaded', () => {
            const deaFormsContainer = document.getElementById('dea-forms-container');
            const deaFormTemplate = document.getElementById('dea-form-template').innerHTML;

            let formIndex = document.querySelectorAll('#dea-forms-container > div[id^="dea-form-"]').length;

            // Get the button
            const addDeaButton = document.getElementById('add-dea-button');

            // Remove any existing listeners to avoid duplicate bindings
            addDeaButton.replaceWith(addDeaButton.cloneNode(true));
            const freshAddDeaButton = document.getElementById('add-dea-button');

            // Add the click event listener
            freshAddDeaButton.addEventListener('click', (e) => {
              e.preventDefault();

              console.log('Button clicked! Adding form.'); // Debugging line

              // Replace placeholder "NEW_INDEX" with the current form index
              const newDeaForm = deaFormTemplate.replace(/NEW_INDEX/g, formIndex);

              // Append the new form to the container
              deaFormsContainer.insertAdjacentHTML('beforeend', newDeaForm);

              // Increment the index for uniqueness
              formIndex++;
            });
          });
        </script>
        <% @provider_cds.each do |provider_cd| %>
          <%= form_with model: provider_cd, url: mhc_provider_cd_path(provider_cd), method: :put, local: true do |f| %>
            <%= f.hidden_field :caqh_provider_attest_id %>
            <%= f.hidden_field :provider_attest_id %>

            <div class="form-row row page-applicable mt-3">
              <div class="col-xl-12">
                <div class="card other-name-card">
                  <div class="card-body">
                    <h6 class="form-heading">CDS/DPS Number</h6>
                    <div class="row">
                      <div class="col-xl-5">
                        <div class="form-row">
                          <label for="cds_number">CDS/DPS Number:</label>
                          <%= f.text_field :cds_number, value: provider_cd.cds_number, class: 'form-control border border-dark' %>
                        </div>
                        <div class="form-row">
                          <%= f.label :issue_date, "Issue Date:" %>
                          <%= f.date_field :issue_date, value: provider_cd.issue_date, class: "form-control" %>
                        </div>
                        <div class="form-row d-flex align-items-center gap-3 mt-2">
                          <%= f.label :currently_practicing_flag, "Do you currently practice under this number?" %>
                          <div class="form-check d-flex align-items-center gap-2">
                            <%= f.radio_button :currently_practicing_flag, true, checked: provider_cd.currently_practicing_flag, id: "this-number-radio-yes" %>
                            <%= f.label :currently_practicing_flag, "Yes", class: "form-check-label" %>
                          </div>
                          <div class="form-check d-flex align-items-center gap-2">
                            <%= f.radio_button :currently_practicing_flag, false, checked: !provider_cd.currently_practicing_flag, id: "this-number-radio-no" %>
                            <%= f.label :currently_practicing_flag, "No", class: "form-check-label" %>
                          </div>
                        </div>
                      </div>

                      <div class="col-xl-5">
                        <div class="form-row">
                          <%= f.label :state, "State:" %>
                          <%= f.collection_select :state, @states, :alpha_code, :name, { prompt: 'State' }, { class: 'form-control' } %>
                        </div>
                        <div class="form-row">
                          <%= f.label :expiration_date, "Expiration Date:" %>
                          <%= f.date_field :expiration_date, value: provider_cd.expiration_date, class: "form-control" %>
                        </div>
                        <div class="form-row d-flex align-items-center gap-3 mt-2">
                          <%= f.label :show_on_tickler, "Show on Tickler?" %>
                          <div class="form-check d-flex align-items-center gap-2">
                            <%= f.radio_button :show_on_tickler, true, checked: provider_cd.show_on_tickler, id: "cds-dps-ticker-radio-yes" %>
                            <%= f.label :show_on_tickler, "Yes", class: "form-check-label" %>
                          </div>
                          <div class="form-check d-flex align-items-center gap-2">
                            <%= f.radio_button :show_on_tickler, false, checked: !provider_cd.show_on_tickler, id: "cds-dps-ticker-radio-no" %>
                            <%= f.label :show_on_tickler, "No", class: "form-check-label" %>
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr class="mt-4">
                    <div class="form-row d-flex justify-content-center mt-4">
                      <%= f.submit "Update CDS/DPS Number", class: "btn btn-primary py-1" %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
          <div class="form-row d-flex justify-content-center mt-4">
            <%= button_to "Delete CDS/DPS Number", mhc_provider_cd_path(provider_cd), method: :delete, class: "btn btn-danger py-1", data: { confirm: "Are you sure you want to delete this CDS/DPS Number?" } %>
          </div>
        <% end %>

        <!-- Add button to show form for new CDS/DPS Number -->
        <div class="form-row d-flex justify-content-center mt-4">
          <button id="add-cds-button" class="btn btn-success py-1">Add New CDS/DPS Number</button>
        </div>

        <!-- Only show this form when you want to add a new CDS/DPS number -->
        <div id="new-cds-form" style="display: none;">
          <%= form_with model: @new_provider_cd, url: mhc_provider_cds_path, local: true do |f| %>
            <%= f.hidden_field :caqh_provider_attest_id, value: @new_provider_cd.caqh_provider_attest_id %>
            <%= f.hidden_field :provider_attest_id, value: @new_provider_cd.provider_attest_id %>

            <div class="form-row row page-applicable mt-3">
              <div class="col-xl-12">
                <div class="card other-name-card">
                  <div class="card-body">
                    <h6 class="form-heading">CDS/DPS Number</h6>
                    <div class="row">
                      <div class="col-xl-5">
                        <div class="form-row">
                          <label for="cds_number">CDS/DPS Number:</label>
                          <%= f.text_field :cds_number, placeholder: 'Type here...', class: 'form-control border border-dark' %>
                        </div>
                        <div class="form-row">
                          <%= f.label :issue_date, "Issue Date:" %>
                          <%= f.date_field :issue_date, class: "form-control" %>
                        </div>
                        <div class="form-row d-flex align-items-center gap-3 mt-2">
                          <%= f.label :currently_practicing_flag, "Do you currently practice under this number?" %>
                          <div class="form-check d-flex align-items-center gap-2">
                            <%= f.radio_button :currently_practicing_flag, true, id: "this-number-radio-yes" %>
                            <%= f.label :currently_practicing_flag, "Yes", class: "form-check-label" %>
                          </div>
                          <div class="form-check d-flex align-items-center gap-2">
                            <%= f.radio_button :currently_practicing_flag, false, id: "this-number-radio-no" %>
                            <%= f.label :currently_practicing_flag, "No", class: "form-check-label" %>
                          </div>
                        </div>
                      </div>

                      <div class="col-xl-5">
                        <div class="form-row">
                          <%= f.label :state, "State:" %>
                          <%= f.collection_select :state, @states, :alpha_code, :name, { prompt: 'State' }, { class: 'form-control' } %>
                        </div>
                        <div class="form-row">
                          <%= f.label :expiration_date, "Expiration Date:" %>
                          <%= f.date_field :expiration_date, class: "form-control" %>
                        </div>
                      </div>
                    </div>
                    <div class="form-row d-flex align-items-center gap-3 mt-2">
                      <%= f.label :show_on_tickler, "Show on Tickler?" %>
                      <div class="form-check d-flex align-items-center gap-2">
                        <%= f.radio_button :show_on_tickler, true, checked: @provider_cd.show_on_tickler, id: "cds-dps-ticker-radio-yes" %>
                        <%= f.label :show_on_tickler, "Yes", class: "form-check-label" %>
                      </div>
                      <div class="form-check d-flex align-items-center gap-2">
                        <%= f.radio_button :show_on_tickler, false, checked: !@provider_cd.show_on_tickler, id: "cds-dps-ticker-radio-no" %>
                        <%= f.label :show_on_tickler, "No", class: "form-check-label" %>
                      </div>
                    </div>

                    <div class="form-row d-flex justify-content-center mt-4">
                      <%= f.submit "Add CDS/DPS Number", class: "btn btn-primary py-1" %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        </div>

        <!-- JavaScript to toggle the form -->
        <script>
          document.getElementById("add-cds-button").addEventListener("click", function() {
            var form = document.getElementById("new-cds-form");
            form.style.display = (form.style.display === "none" || form.style.display === "") ? "block" : "none";
          });
        </script>

        <div class="form-row row page-applicable mt-3">
            <div class="col-xl-12">
                <%= form_for(@provider_personal_information, url: mhc_provider_personal_information_path(page_tab: 'registration')) do |f| %>
                    <%= f.hidden_field :caqh_provider_attest_id %>
                    <%= f.hidden_field :provider_attest_id %>
                    <div class="card other-name-card">
                        <div class="card-body">
                            <h6 class="form-heading">ECFMG Number</h6>
                            <div class="form-row d-flex align-items-center gap-3 mt-2">
                                <label for="">Are you ECFMG certified? (Applicable to Foreign Medical School Graduates)</label>
                                <%= f.radio_button :ecfmg_flag, true %>
                                <%= f.label :ecfmg_flag, 'Yes', :value => true %>
                                <%= f.radio_button :ecfmg_flag, false || nil %>
                                <%= f.label :ecfmg_flag, 'No', :value => false %>
                            </div>
                            <div class="row ECFMG-certified-wrp">
                                <div class="col-xl-5">
                                    <div class="form-row">
                                        <label for="">If Yes, ECFMG Number:</label>
                                        <%= f.text_field :ecfmg_number, placeholder: 'Type here...', class: 'form-control border border-dark' %>
                                    </div>
                                </div>
                            </div>
                            <div class="row ECFMG-certified-wrp">
                                <div class="col-xl-5">
                                    <div class="form-row">
                                        <label for="">Issue Date:</label>
                                        <%= f.date_field :ecfmg_issue_date, placeholder: 'Type here...', class: 'form-control border border-dark' %>
                                    </div>
                                </div>
                                <div class="col-xl-5">
                                    <div class="form-row">
                                        <label for="">Valid through:</label>
                                        <%= f.date_field :ecfmg_expiration_date, placeholder: 'Type here...', class: 'form-control border border-dark' %>
                                    </div>
                                </div>
                                <div class="col-xl-2 d-flex align-items-end">
                                    <div class=" form-check d-flex align-items-center gap-2">
                                        <input class="form-check-input" type="checkbox" id="ECFMG-remove" value="">
                                    </div>
                                </div>
                            </div>
                            <div class="form-row d-flex align-items-center gap-3 mt-2">
                              <label for="">Show on Tickler?</label>
                              <div class="form-check d-flex align-items-center gap-2">
                                <%= f.radio_button :show_on_tickler, true, class: "form-check-input", id: "show_on_tickler_yes" %>
                                <label class="form-check-label" for="show_on_tickler_yes">
                                  Yes
                                </label>
                              </div>
                              <div class="form-check d-flex align-items-center gap-2">
                                <%= f.radio_button :show_on_tickler, false, class: "form-check-input", id: "show_on_tickler_no" %>
                                <label class="form-check-label" for="show_on_tickler_no">
                                  No
                                </label>
                              </div>
                            </div>
                            <hr class="mt-4">
                            <div class="form-row d-flex justify-content-center mt-4">
                                <%= f.submit 'Save', class: 'btn btn-primary' %>
                            </div>
                        </div>
                    </div>
                <% end %>
            </div>
        </div>
         <% @provider_medicare.each do |provider_medicare| %>
          <%= form_with model: provider_medicare, url: mhc_provider_medicare_path(provider_medicare), method: :put, local: true do |f| %>
            <%= f.hidden_field :provider_attest_id %>

            <div class="form-row row page-applicable mt-3">
              <div class="col-xl-12">
                <div class="card other-name-card">
                  <div class="card-body">
                    <h6 class="form-heading">Medicare Billing Number:</h6>
                    <div class="row">
                      <div class="col-xl-5">
                        <div class="form-row">
                          <%= f.label :medicare_number, "Medicare PIN:" %>
                          <%= f.text_field :medicare_number, class: "form-control", value: provider_medicare.medicare_number %>
                        </div>
                        <div class="form-row">
                          <%= f.label :issue_date, "Issue Date:" %>
                          <%= f.date_field :issue_date, class: "form-control", value: provider_medicare.issue_date %>
                        </div>
                      </div>

                      <div class="col-xl-5">
                        <div class="form-row">
                          <%= f.label :state, "State:" %>
                          <%= f.collection_select :state, @states, :alpha_code, :name, { prompt: 'State' }, { class: 'form-control' } %>
                        </div>
                        <div class="form-row d-flex align-items-center gap-3 mt-2">
                          <div class="form-check">
                            <%= f.radio_button :medicare_opt_in, "Opt In", checked: provider_medicare.medicare_opt_in == "Opt In", class: "form-check-input" %>
                            <%= f.label :medicare_opt_in, "Opt In", class: "form-check-label" %>
                          </div>
                          <div class="form-check">
                            <%= f.radio_button :medicare_opt_out, "Opt Out", checked: provider_medicare.medicare_opt_in == "Opt Out", class: "form-check-input" %>
                            <%= f.label :medicare_opt_out, "Opt Out", class: "form-check-label" %>
                          </div>
                          <div class="form-check">
                            <%= f.radio_button :medicare_partial, "Partial", checked: provider_medicare.medicare_opt_in == "Partial", class: "form-check-input" %>
                            <%= f.label :medicare_partial, "Partial", class: "form-check-label" %>
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr class="mt-4">
                    <div class="form-row d-flex justify-content-center mt-4">
                      <%= f.submit "Update Medicare Billing Number", class: "btn btn-primary py-1" %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% end %>

          <!-- Button for deleting the Medicare Billing Number -->
          <div class="form-row d-flex justify-content-center mt-4">
            <%= button_to "Delete Medicare Billing Number", mhc_provider_medicare_path(provider_medicare), method: :delete, class: "btn btn-danger py-1", data: { confirm: "Are you sure you want to delete this Medicare Billing Number?" } %>
          </div>
        <% end %>
                  <!-- Add button to show form for new Medicare Billing Number -->
          <div class="form-row d-flex justify-content-center mt-4">
            <button id="add-medicare-button" class="btn btn-success py-1">Add New Medicare Billing Number</button>
          </div>

          <!-- Only show this form when you want to add a new Medicare Billing Number -->
          <div id="new-medicare-form" style="display: none;">
            <%= form_with model: @new_provider_medicare, url: mhc_provider_medicares_path, method: :post, local: true do |f| %>
              <%= f.hidden_field :provider_attest_id, value: @new_provider_medicare&.provider_attest_id || "" %>

              <div class="form-row row page-applicable mt-3">
                <div class="col-xl-12">
                  <div class="card other-name-card">
                    <div class="card-body">
                      <h6 class="form-heading">Medicare Billing Number:</h6>
                      <div class="row">
                        <div class="col-xl-5">
                          <div class="form-row">
                            <%= f.label :medicare_number, "Medicare PIN:" %>
                            <%= f.text_field :medicare_number, class: "form-control", placeholder: 'Type here...' %>
                          </div>
                          <div class="form-row">
                            <%= f.label :issue_date, "Issue Date:" %>
                            <%= f.date_field :issue_date, class: "form-control" %>
                          </div>
                        </div>

                        <div class="col-xl-5">
                          <div class="form-row">
                            <%= f.label :state, "State:" %>
                            <%= f.collection_select :state, @states, :alpha_code, :name, { prompt: 'State' }, { class: 'form-control' } %>
                          </div>
                          <div class="form-row d-flex align-items-center gap-3 mt-2">
                            <div class="form-check">
                              <%= f.radio_button :medicare_opt_in, "Opt In", class: "form-check-input" %>
                              <%= f.label :medicare_opt_in, "Opt In", class: "form-check-label" %>
                            </div>
                            <div class="form-check">
                              <%= f.radio_button :medicare_opt_out, "Opt Out", class: "form-check-input" %>
                              <%= f.label :medicare_opt_out, "Opt Out", class: "form-check-label" %>
                            </div>
                            <div class="form-check">
                              <%= f.radio_button :medicare_partial, "Partial", class: "form-check-input" %>
                              <%= f.label :medicare_partial, "Partial", class: "form-check-label" %>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="form-row d-flex justify-content-center mt-4">
                        <%= f.submit "Add Medicare Billing Number", class: "btn btn-primary py-1" %>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          </div>

          <!-- JavaScript to toggle the form -->
          <script>
            document.getElementById("add-medicare-button").addEventListener("click", function() {
              var form = document.getElementById("new-medicare-form");
              form.style.display = (form.style.display === "none" || form.style.display === "") ? "block" : "none";
            });
          </script>
        <% if @provider_medicaids.any? %>
          <% @provider_medicaids.each do |provider_medicaid| %>
          <div class="form-row row page-applicable mt-3">
            <div class="col-xl-12">
                <div class="card other-name-card">
                    <div class="card-body">
                        <h6 class="form-heading">Medicaid Billing Number:</h6>
                        <%= form_with model: provider_medicaid, url: mhc_provider_medicaid_path(provider_medicaid), method: :put, local: true do |f| %>
                          <%= f.hidden_field :provider_attest_id %>

                          <div class="form-group">
                            <%= f.label :medicaid_number, "Medicaid Number" %>
                            <%= f.text_field :medicaid_number, class: "form-control", value: provider_medicaid.medicaid_number %>
                          </div>

                          <div class="form-row">
                            <%= f.label :state, "State:" %>
                            <%= f.collection_select :state, @states, :alpha_code, :name, { prompt: 'State' }, { class: 'form-control' } %>
                          </div>

                          <div class="form-row d-flex justify-content-center mt-4">
                            <%= f.submit "Update Medicaid Number", class: "btn btn-primary" %>
                          </div>
                        <% end %>

                        <div class="form-row d-flex justify-content-center mt-4">
                          <%= button_to "Delete Medicaid Number", mhc_provider_medicaid_path(provider_medicaid), method: :delete, class: "btn btn-danger", data: { confirm: "Are you sure you want to delete this Medicaid Number?" } %>
                        </div>
                      <% end %>

                      <!-- Button to show the form for adding a new Medicaid Number -->
                      <div class="form-row d-flex justify-content-center mt-4">
                        <button id="add-medicaid-button" class="btn btn-success">Add New Medicaid Number</button>
                      </div>
                    </div>
                </div>
            </div>
          </div>
            
          <!-- Form for adding a new Medicaid Number -->
          <div id="new-medicaid-form" style="display: none;">
            <div class="form-row row page-applicable mt-3">
              <div class="col-xl-12">
                  <div class="card other-name-card">
                      <div class="card-body">
                          <h6 class="form-heading">Medicaid Billing Number:</h6>
                          <%= form_with model: @new_provider_medicaid, url: mhc_provider_medicaids_path, method: :post, local: true do |f| %>
                            <%= f.hidden_field :provider_attest_id, value: @new_provider_medicaid&.provider_attest_id || "" %>

                            <div class="form-group">
                              <%= f.label :medicaid_number, "Medicaid Number" %>
                              <%= f.text_field :medicaid_number, class: "form-control", placeholder: "Type here..." %>
                            </div>

                            <div class="form-row">
                              <%= f.label :state, "State:" %>
                              <%= f.collection_select :state, @states, :alpha_code, :name, { prompt: 'State' }, { class: 'form-control' } %>
                            </div>

                            <div class="form-row d-flex justify-content-center mt-4">
                              <%= f.submit "Add Medicaid Number", class: "btn btn-primary" %>
                            </div>
                          <% end %>
                      </div>
                   </div>
               </div>
            </div>
          </div>

          <!-- JavaScript to toggle the new Medicaid form -->
          <script>
            document.getElementById("add-medicaid-button").addEventListener("click", function() {
              var form = document.getElementById("new-medicaid-form");
              form.style.display = (form.style.display === "none" || form.style.display === "") ? "block" : "none";
            });
          </script>
        <% else %>
          <!-- Show the form directly if no records exist -->
            <div class="form-row row page-applicable mt-3">
              <div class="col-xl-12">
                  <div class="card other-name-card">
                      <div class="card-body">
                          <h6 class="form-heading">Medicaid Billing Number:</h6>
                          <div class="form-group mt-4">
                            <%= form_with model: @new_provider_medicaid, url: mhc_provider_medicaids_path, method: :post, local: true do |f| %>
                              <%= f.hidden_field :provider_attest_id, value: @new_provider_medicaid&.provider_attest_id || "" %>

                              <div class="form-group">
                                <%= f.label :medicaid_number, "Medic-Cal/Medicaid Number:" %>
                                <%= f.text_field :medicaid_number, class: "form-control", placeholder: "Type here..." %>
                              </div>

                              <div class="form-row">
                                <%= f.label :state, "State:" %>
                                <%= f.collection_select :state, @states, :alpha_code, :name, { prompt: 'State' }, { class: 'form-control' } %>
                              </div>

                              <div class="form-row d-flex justify-content-center mt-4">
                                <%= f.submit "Add Medicaid Number", class: "btn btn-primary" %>
                              </div>
                            <% end %>
                          </div>
                      </div>
                  </div>
              </div>
            </div>
        <% end %>
        <% if @provider_militaries.any? %>
          <% @provider_militaries.each do |provider_military| %>
            <div class="form-row row page-applicable mt-3">
              <div class="col-xl-12">
                <div class="card other-name-card">
                  <div class="card-body">
                    <h6 class="form-heading">Military Service Information:</h6>
                    <%= form_with model: provider_military, url: mhc_provider_military_path(provider_military), method: :put, local: true do |f| %>
                      <%= f.hidden_field :provider_attest_id %>

                      <div class="form-group">
                        <%= f.label :start_date, "Dates of Service From:" %>
                        <%= f.date_field :start_date, class: "form-control", value: provider_military.start_date %>
                      </div>

                      <div class="form-group">
                        <%= f.label :end_date, "Dates of Service To:" %>
                        <%= f.date_field :end_date, class: "form-control", value: provider_military.end_date %>
                      </div>

                      <div class="form-group">
                        <%= f.label :branch, "Branch of Service:" %>
                        <%= f.text_field :branch, class: "form-control", value: provider_military.branch %>
                      </div>

                      <div class="form-group">
                        <%= f.label :discharge_rank, "Rank at Discharge:" %>
                        <%= f.text_field :discharge_rank, class: "form-control", value: provider_military.discharge_rank %>
                      </div>

                      <div class="form-group">
                        <%= f.label :last_location, "Last Location:" %>
                        <%= f.text_field :last_location, class: "form-control", value: provider_military.last_location %>
                      </div>

                      <div class="form-group">
                        <%= f.label :type_of_discharge, "Type of Discharge from Active Duty:" %>
                        <%= f.text_field :type_of_discharge, class: "form-control", value: provider_military.type_of_discharge %>
                      </div>

                      <div class="form-row">
                        <label>If Reserve, anticipated date of separation from reserve duty:</label>
                        <div class="col-xl-6">
                          <%= f.text_field :reserve_separation_month, class: "form-control", placeholder: "Month" %>
                        </div>
                        <div class="col-xl-6">
                          <%= f.text_field :reserve_separation_year, class: "form-control", placeholder: "Year" %>
                        </div>
                      </div>

                      <div class="form-group">
                        <%= f.label :currently_active_reserve, "Are You Currently on Active or Reserve Military Duty?" %>
                        <%= f.check_box :currently_active_reserve, {}, provider_military.currently_active_reserve, false %>
                      </div>
                      <div class="form-section">
                        <div class="card mb-3">
                          <div class="card-body">
                            <div class="form-row row mt-3">
                            <h1> OTHER FIELD</h1>
                              <div class="col-xl-4">
                                <%= f.label :caqh_id, "CAQH ID:" %>
                                <%= f.text_field :caqh_id, class: "form-control" %>
                              </div>
                              <div class="col-xl-4">
                                <%= f.label :npi_number, "NPI Number:" %>
                                <%= f.text_field :npi_number, class: "form-control" %>
                              </div>
                              <div class="col-xl-4">
                                <%= f.label :medicare_upin_number, "Medicare UPIN Number:" %>
                                <%= f.text_field :medicare_upin_number, class: "form-control" %>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-6">
                                <%= f.label :tricare_provider, "TRICARE Provider?" %>
                                <div class="form-check">
                                  <%= f.radio_button :tricare_provider, true, id: "tricare_provider_yes", class: "form-check-input" %>
                                  <%= f.label :tricare_provider, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :tricare_provider, false, id: "tricare_provider_no", class: "form-check-input" %>
                                  <%= f.label :tricare_provider, "No", value: false, class: "form-check-label" %>
                                </div>
                                <%= f.label :tricare_group_number, "If Yes, TRICARE Group Number:" %>
                                <%= f.text_field :tricare_group_number, class: "form-control" %>
                              </div>

                              <div class="col-xl-6">
                                <%= f.label :certified_workers_comp_provider, "Certified Worker's Compensation Provider?" %>
                                <div class="form-check">
                                  <%= f.radio_button :certified_workers_comp_provider, true, id: "certified_workers_yes", class: "form-check-input" %>
                                  <%= f.label :certified_workers_comp_provider, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :certified_workers_comp_provider, false, id: "certified_workers_no", class: "form-check-input" %>
                                  <%= f.label :certified_workers_comp_provider, "No", value: false, class: "form-check-label" %>
                                </div>
                                <%= f.label :certificate_number, "If Yes, Certificate Number:" %>
                                <%= f.text_field :certificate_number, class: "form-control" %>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-6">
                                <%= f.label :certified_qualified_medical_examiner, "Certified Qualified Medical Examiner?" %>
                                <div class="form-check">
                                  <%= f.radio_button :certified_qualified_medical_examiner, true, id: "qualified_examiner_yes", class: "form-check-input" %>
                                  <%= f.label :certified_qualified_medical_examiner, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :certified_qualified_medical_examiner, false, id: "qualified_examiner_no", class: "form-check-input" %>
                                  <%= f.label :certified_qualified_medical_examiner, "No", value: false, class: "form-check-label" %>
                                </div>
                              </div>

                              <div class="col-xl-6">
                                <%= f.label :agreed_medical_examiner, "Agreed Medical Examiner?" %>
                                <div class="form-check">
                                  <%= f.radio_button :agreed_medical_examiner, true, id: "agreed_examiner_yes", class: "form-check-input" %>
                                  <%= f.label :agreed_medical_examiner, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :agreed_medical_examiner, false, id: "agreed_examiner_no", class: "form-check-input" %>
                                  <%= f.label :agreed_medical_examiner, "No", value: false, class: "form-check-label" %>
                                </div>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-6">
                                <%= f.label :us_military_service, "U.S. Military Service/Public Health:" %>
                                <div class="form-check">
                                  <%= f.radio_button :us_military_service, true, id: "us_military_yes", class: "form-check-input" %>
                                  <%= f.label :us_military_service, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :us_military_service, false, id: "us_military_no", class: "form-check-input" %>
                                  <%= f.label :us_military_service, "No", value: false, class: "form-check-label" %>
                                </div>
                              </div>
                              <div class="col-xl-6">
                                <%= f.label :branch_of_military, "Branch of the Military:" %>
                                <%= f.text_field :branch_of_military, class: "form-control" %>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-12">
                                <%= f.label :comments, "Please list any comments:" %>
                                <%= f.text_area :comments, class: "form-control" %>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="form-row d-flex justify-content-center mt-4">
                        <%= f.submit "Update Military Service Info", class: "btn btn-primary" %>
                      </div>
                    <% end %>

                    <div class="form-row d-flex justify-content-center mt-4">
                      <%= button_to "Delete Military Service Info", mhc_provider_military_path(provider_military), method: :delete, class: "btn btn-danger", data: { confirm: "Are you sure you want to delete this Military Service Info?" } %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% end %>

          <!-- Button to show the form for adding a new Military Service Info -->
          <div class="form-row d-flex justify-content-center mt-4">
            <button id="add-military-button" class="btn btn-success">Add New Military Service Info</button>
          </div>

          <!-- Form for adding a new Military Service Info -->
          <div id="new-military-form" style="display: none;">
            <div class="form-row row page-applicable mt-3">
              <div class="col-xl-12">
                <div class="card other-name-card">
                  <div class="card-body">
                    <h6 class="form-heading">Military Service Information:</h6>
                    <%= form_with model: @new_provider_military, url: mhc_provider_militaries_path, method: :post, local: true do |f| %>
                      <%= f.hidden_field :provider_attest_id, value: @new_provider_military&.provider_attest_id || "" %>

                      <div class="form-group">
                        <%= f.label :start_date, "Dates of Service From:" %>
                        <%= f.date_field :start_date, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :end_date, "Dates of Service To:" %>
                        <%= f.date_field :end_date, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :branch, "Branch of Service:" %>
                        <%= f.text_field :branch, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :discharge_rank, "Rank at Discharge:" %>
                        <%= f.text_field :discharge_rank, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :last_location, "Last Location:" %>
                        <%= f.text_field :last_location, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :type_of_discharge, "Type of Discharge from Active Duty:" %>
                        <%= f.text_field :type_of_discharge, class: "form-control" %>
                      </div>
                      <div class="form-row">
                        <label>If Reserve, anticipated date of separation from reserve duty:</label>
                        <div class="col-xl-6">
                          <%= f.text_field :reserve_separation_month, class: "form-control", placeholder: "Month" %>
                        </div>
                        <div class="col-xl-6">
                          <%= f.text_field :reserve_separation_year, class: "form-control", placeholder: "Year" %>
                        </div>
                      </div>

                      <div class="form-group">
                        <%= f.label :currently_active_reserve, "Are You Currently on Active or Reserve Military Duty?" %>
                        <%= f.check_box :currently_active_reserve %>
                      </div>
                      <div class="form-section">
                        <div class="card mb-3">
                          <div class="card-body">
                            <div class="form-row row mt-3">
                            <h1> OTHER FIELD</h1>
                              <div class="col-xl-4">
                                <%= f.label :caqh_id, "CAQH ID:" %>
                                <%= f.text_field :caqh_id, class: "form-control" %>
                              </div>
                              <div class="col-xl-4">
                                <%= f.label :npi_number, "NPI Number:" %>
                                <%= f.text_field :npi_number, class: "form-control" %>
                              </div>
                              <div class="col-xl-4">
                                <%= f.label :medicare_upin_number, "Medicare UPIN Number:" %>
                                <%= f.text_field :medicare_upin_number, class: "form-control" %>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-6">
                                <%= f.label :tricare_provider, "TRICARE Provider?" %>
                                <div class="form-check">
                                  <%= f.radio_button :tricare_provider, true, id: "tricare_provider_yes", class: "form-check-input" %>
                                  <%= f.label :tricare_provider, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :tricare_provider, false, id: "tricare_provider_no", class: "form-check-input" %>
                                  <%= f.label :tricare_provider, "No", value: false, class: "form-check-label" %>
                                </div>
                                <%= f.label :tricare_group_number, "If Yes, TRICARE Group Number:" %>
                                <%= f.text_field :tricare_group_number, class: "form-control" %>
                              </div>

                              <div class="col-xl-6">
                                <%= f.label :certified_workers_comp_provider, "Certified Worker's Compensation Provider?" %>
                                <div class="form-check">
                                  <%= f.radio_button :certified_workers_comp_provider, true, id: "certified_workers_yes", class: "form-check-input" %>
                                  <%= f.label :certified_workers_comp_provider, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :certified_workers_comp_provider, false, id: "certified_workers_no", class: "form-check-input" %>
                                  <%= f.label :certified_workers_comp_provider, "No", value: false, class: "form-check-label" %>
                                </div>
                                <%= f.label :certificate_number, "If Yes, Certificate Number:" %>
                                <%= f.text_field :certificate_number, class: "form-control" %>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-6">
                                <%= f.label :certified_qualified_medical_examiner, "Certified Qualified Medical Examiner?" %>
                                <div class="form-check">
                                  <%= f.radio_button :certified_qualified_medical_examiner, true, id: "qualified_examiner_yes", class: "form-check-input" %>
                                  <%= f.label :certified_qualified_medical_examiner, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :certified_qualified_medical_examiner, false, id: "qualified_examiner_no", class: "form-check-input" %>
                                  <%= f.label :certified_qualified_medical_examiner, "No", value: false, class: "form-check-label" %>
                                </div>
                              </div>

                              <div class="col-xl-6">
                                <%= f.label :agreed_medical_examiner, "Agreed Medical Examiner?" %>
                                <div class="form-check">
                                  <%= f.radio_button :agreed_medical_examiner, true, id: "agreed_examiner_yes", class: "form-check-input" %>
                                  <%= f.label :agreed_medical_examiner, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :agreed_medical_examiner, false, id: "agreed_examiner_no", class: "form-check-input" %>
                                  <%= f.label :agreed_medical_examiner, "No", value: false, class: "form-check-label" %>
                                </div>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-6">
                                <%= f.label :us_military_service, "U.S. Military Service/Public Health:" %>
                                <div class="form-check">
                                  <%= f.radio_button :us_military_service, true, id: "us_military_yes", class: "form-check-input" %>
                                  <%= f.label :us_military_service, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :us_military_service, false, id: "us_military_no", class: "form-check-input" %>
                                  <%= f.label :us_military_service, "No", value: false, class: "form-check-label" %>
                                </div>
                              </div>
                              <div class="col-xl-6">
                                <%= f.label :branch_of_military, "Branch of the Military:" %>
                                <%= f.text_field :branch_of_military, class: "form-control" %>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-12">
                                <%= f.label :comments, "Please list any comments:" %>
                                <%= f.text_area :comments, class: "form-control" %>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="form-row d-flex justify-content-center mt-4">
                        <%= f.submit "Add Military Service Info", class: "btn btn-primary" %>
                      </div>
                    <% end %>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- JavaScript to toggle the new Military Service Info form -->
          <script>
            document.getElementById("add-military-button").addEventListener("click", function() {
              var form = document.getElementById("new-military-form");
              form.style.display = (form.style.display === "none" || form.style.display === "") ? "block" : "none";
            });
          </script>
        <% else %>
            <div class="form-row row page-applicable mt-3">
              <div class="col-xl-12">
                <div class="card other-name-card">
                  <div class="card-body">
                    <h6 class="form-heading">U.S. Military Service/Public Health:</h6>
                    <%= form_with model: @new_provider_military, url: mhc_provider_militaries_path, method: :post, local: true do |f| %>
                      <%= f.hidden_field :provider_attest_id, value: @new_provider_military&.provider_attest_id || "" %>

                      <div class="form-group">
                        <%= f.label :start_date, "Dates of Service From:" %>
                        <%= f.date_field :start_date, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :end_date, "Dates of Service To:" %>
                        <%= f.date_field :end_date, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :branch, "Branch of Service:" %>
                        <%= f.text_field :branch, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :discharge_rank, "Rank at Discharge:" %>
                        <%= f.text_field :discharge_rank, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :last_location, "Last Location:" %>
                        <%= f.text_field :last_location, class: "form-control" %>
                      </div>

                      <div class="form-group">
                        <%= f.label :type_of_discharge, "Type of Discharge from Active Duty:" %>
                        <%= f.text_field :type_of_discharge, class: "form-control" %>
                      </div>

                      <div class="form-row">
                        <label>If Reserve, anticipated date of separation from reserve duty:</label>
                        <div class="col-xl-6">
                          <%= f.text_field :reserve_separation_month, class: "form-control", placeholder: "Month" %>
                        </div>
                        <div class="col-xl-6">
                          <%= f.text_field :reserve_separation_year, class: "form-control", placeholder: "Year" %>
                        </div>
                      </div>

                      <div class="form-group">
                        <%= f.label :currently_active_reserve, "Are You Currently on Active or Reserve Military Duty?" %>
                        <%= f.check_box :currently_active_reserve %>
                      </div>
                      <div class="form-section">
                        <div class="card mb-3">
                          <div class="card-body">
                            <div class="form-row row mt-3">
                            <h1> OTHER FIELD</h1>
                              <div class="col-xl-4">
                                <%= f.label :caqh_id, "CAQH ID:" %>
                                <%= f.text_field :caqh_id, class: "form-control" %>
                              </div>
                              <div class="col-xl-4">
                                <%= f.label :npi_number, "NPI Number:" %>
                                <%= f.text_field :npi_number, class: "form-control" %>
                              </div>
                              <div class="col-xl-4">
                                <%= f.label :medicare_upin_number, "Medicare UPIN Number:" %>
                                <%= f.text_field :medicare_upin_number, class: "form-control" %>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-6">
                                <%= f.label :tricare_provider, "TRICARE Provider?" %>
                                <div class="form-check">
                                  <%= f.radio_button :tricare_provider, true, id: "tricare_provider_yes", class: "form-check-input" %>
                                  <%= f.label :tricare_provider, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :tricare_provider, false, id: "tricare_provider_no", class: "form-check-input" %>
                                  <%= f.label :tricare_provider, "No", value: false, class: "form-check-label" %>
                                </div>
                                <%= f.label :tricare_group_number, "If Yes, TRICARE Group Number:" %>
                                <%= f.text_field :tricare_group_number, class: "form-control" %>
                              </div>

                              <div class="col-xl-6">
                                <%= f.label :certified_workers_comp_provider, "Certified Worker's Compensation Provider?" %>
                                <div class="form-check">
                                  <%= f.radio_button :certified_workers_comp_provider, true, id: "certified_workers_yes", class: "form-check-input" %>
                                  <%= f.label :certified_workers_comp_provider, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :certified_workers_comp_provider, false, id: "certified_workers_no", class: "form-check-input" %>
                                  <%= f.label :certified_workers_comp_provider, "No", value: false, class: "form-check-label" %>
                                </div>
                                <%= f.label :certificate_number, "If Yes, Certificate Number:" %>
                                <%= f.text_field :certificate_number, class: "form-control" %>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-6">
                                <%= f.label :certified_qualified_medical_examiner, "Certified Qualified Medical Examiner?" %>
                                <div class="form-check">
                                  <%= f.radio_button :certified_qualified_medical_examiner, true, id: "qualified_examiner_yes", class: "form-check-input" %>
                                  <%= f.label :certified_qualified_medical_examiner, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :certified_qualified_medical_examiner, false, id: "qualified_examiner_no", class: "form-check-input" %>
                                  <%= f.label :certified_qualified_medical_examiner, "No", value: false, class: "form-check-label" %>
                                </div>
                              </div>

                              <div class="col-xl-6">
                                <%= f.label :agreed_medical_examiner, "Agreed Medical Examiner?" %>
                                <div class="form-check">
                                  <%= f.radio_button :agreed_medical_examiner, true, id: "agreed_examiner_yes", class: "form-check-input" %>
                                  <%= f.label :agreed_medical_examiner, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :agreed_medical_examiner, false, id: "agreed_examiner_no", class: "form-check-input" %>
                                  <%= f.label :agreed_medical_examiner, "No", value: false, class: "form-check-label" %>
                                </div>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-6">
                                <%= f.label :us_military_service, "U.S. Military Service/Public Health:" %>
                                <div class="form-check">
                                  <%= f.radio_button :us_military_service, true, id: "us_military_yes", class: "form-check-input" %>
                                  <%= f.label :us_military_service, "Yes", value: true, class: "form-check-label" %>
                                </div>
                                <div class="form-check">
                                  <%= f.radio_button :us_military_service, false, id: "us_military_no", class: "form-check-input" %>
                                  <%= f.label :us_military_service, "No", value: false, class: "form-check-label" %>
                                </div>
                              </div>
                              <div class="col-xl-6">
                                <%= f.label :branch_of_military, "Branch of the Military:" %>
                                <%= f.text_field :branch_of_military, class: "form-control" %>
                              </div>
                            </div>

                            <div class="form-row row mt-3">
                              <div class="col-xl-12">
                                <%= f.label :comments, "Please list any comments:" %>
                                <%= f.text_area :comments, class: "form-control" %>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="form-row d-flex justify-content-center mt-4">
                        <%= f.submit "Submit", class: "btn btn-primary" %>
                      </div>
                    <% end %>
                  </div>
                </div>
              </div>
            </div>
        <% end %>
    </div>
</div>

<!-- Add Comment Modal -->
<div class="modal fade" id="addCommentModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body">
                <div class="content">
                    <div class="modal-title">
                        <h6 class="offset-md-5">Add Comment</h6>
                        <button class="btn btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    </div>
                    <form action="">
                        <div class="form-row mt-3">
                            <label for="">Subject:</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="form-row">
                            <label for="">Message:</label>
                            <textarea name="" id="" cols="30" rows="5" class="form-control"></textarea>
                        </div>
                    </form>
                    <div class="form-row mt-3 d-flex justify-content-center">
                        <button class="btn btn-primary py-1">Post Comment</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Delete Comment Modal -->
<div class="modal fade" id="deleteCommentModal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body">
                <div class="content">
                    <div class="modal-title">
                        <h6 class="offset-md-5">Comment</h6>
                        <button class="btn btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    </div>
                    <form action="">
                        <div class="form-row mt-3">
                            <label for="">Subject:</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="form-row">
                            <label for="">Message:</label>
                            <textarea name="" id="" cols="30" rows="5" class="form-control"></textarea>
                        </div>
                    </form>
                    <div class="form-row mt-3 d-flex justify-content-center">
                        <button class="btn btn-red">Delete Comment</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Quality Audit Modal -->
<div class="modal fade" id="QAModal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body">
                <div class="content">
                    <div class="modal-title">
                        <h6 class="">Quality Audit</h6>
                        <button class="btn btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    </div>
                    <div class="form-row row mt-3">
                        <div class="col-xl-12">
                            <div class="card other-name-card">
                                <form action="">
                                    <div class="card-body">
                                        <div class="d-flex align-items-center justify-content-between">
                                            <h6 class="form-heading">Request</h6>
                                            <div class="d-flex justify-content-end gap-2">
                                                <button class="btn btn-primary py-1">
                                                    View Request History
                                                </button>
                                                <button class="btn btn-primary py-1">
                                                    View Webcrawler Image Archive
                                                </button>
                                            </div>
                                        </div>
                                        <div class="form-row mt-3">
                                            <button class="btn btn-primary py-1">
                                                Send Request
                                            </button>
                                        </div>
                                        <div class="form-row d-flex mt-3">
                                            <label for="">Requested By:</label>
                                        </div>
                                        <div class="form-row">
                                            <label for="">Requested Date:</label>
                                        </div>
                                        <div class="form-row d-flex align-items-center gap-3">
                                            <label for="">Requested Method:</label>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="method-radio"
                                                    id="method-autofax" value="AutoFax">
                                                <label class="form-check-label" for="method-autofax">
                                                    AutoFax
                                                </label>
                                            </div>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="method-radio"
                                                    id="method-email" value="E-Mail">
                                                <label class="form-check-label" for="method-email">
                                                    E-Mail
                                                </label>
                                            </div>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="method-radio"
                                                    id="method-letter" value="Letter">
                                                <label class="form-check-label" for="method-letter">
                                                    Letter
                                                </label>
                                            </div>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="method-radio"
                                                    id="method-phone" value="Phone">
                                                <label class="form-check-label" for="method-phone">
                                                    Phone
                                                </label>
                                            </div>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="method-radio"
                                                    id="method-website" value="Website">
                                                <label class="form-check-label" for="method-website">
                                                    Website
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-row row">
                                            <div class="col-xl-6">
                                                <label for="req-fee-amount">Required Fee Amount:</label>
                                                <input type="text" name="req-fee-amount" id="req-fee-amount" class="form-control" placeholder="Type here...">
                                            </div>
                                            <div class="col-xl-6">
                                                <label for="check-payable-to">Check Payable To:</label>
                                                <input type="text" name="check-payable-to" id="check-payable-to" class="form-control" placeholder="Type here...">
                                            </div>
                                        </div>
                                        <div class="form-row mt-2">
                                            <div class=" form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="checkbox" id="inc-delineation-check" value="Include Delineation of Privileges">
                                                <label class="form-check-label" for="inc-delineation-check">Include Delineation of Privileges</label>
                                            </div>
                                        </div>
                                        <div class="form-row d-flex align-items-center gap-3">
                                            <label for="">Check has generated?</label>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="check-generate-radio"
                                                    id="check-generate-yes" value="Yes">
                                                <label class="form-check-label" for="check-generate-yes">
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="check-generate-radio"
                                                    id="check-generate-no" value="No">
                                                <label class="form-check-label" for="check-generate-no">
                                                    No
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-row d-flex align-items-center gap-3">
                                            <label for="">Received Status:</label>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="received-status-radio"
                                                    id="received-status-yes" value="Yes">
                                                <label class="form-check-label" for="received-status-yes">
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="received-status-radio"
                                                    id="received-status-no" value="No">
                                                <label class="form-check-label" for="received-status-no">
                                                    No
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <label for="">Received By:</label>
                                        </div>
                                        <div class="form-row">
                                            <label for="">Received Date:</label>
                                        </div>
                                        <div class="form-row">
                                            <label for="">Comments:</label>
                                            <textarea name="" id="" cols="30" rows="3" class="form-control"></textarea>
                                        </div>
                                        <div class="form-row d-flex justify-content-end gap-2 mt-3">
                                            <button class="btn btn-primary py-1">
                                                View Received Images
                                            </button>
                                            <button type="submit" class="btn btn-primary py-1">
                                                Save Request
                                            </button>
                                            <button class="btn btn-primary py-1">
                                                Restart Request
                                            </button>
                                            <button class="btn btn-primary py-1">
                                                Run Webcrawler
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="form-row row mt-3">
                        <div class="col-xl-12">
                            <div class="card other-name-card">
                                <form action="">
                                    <div class="card-body">
                                        <h6 class="form-heading">Verification</h6>
                                        <div class="form-row row">
                                            <div class="col-xl-4">
                                                <label for="source-name">Source Name:</label>
                                                <select name="source-name" id="source-name  "
                                                    class="form-select">
                                                    <option value="">Select option</option>
                                                </select>
                                            </div>
                                            <div class="col-xl-4">
                                                <label for="source-date">Source Date:</label>
                                                <input type="date" name="source-date" id="source-date" class="form-control">
                                            </div>
                                            <div class="col-xl-4">
                                                <label for="status">Status:</label>
                                                <select name="status" id="status"
                                                    class="form-select">
                                                    <option value="">Select option</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row d-flex align-items-center gap-3 mt-1">
                                            <label for="">Adverse Action:</label>
                                            <select name="adverse-act" id="adverse-act" class="form-select">
                                                <option value="">Select option</option>
                                            </select>
                                        </div>
                                        <div class="form-row row">
                                            <div class="col-xl-6">
                                                <label for="others">Other:</label>
                                                <textarea name="others" id="others" cols="30" rows="5" class="form-control"></textarea>
                                            </div>
                                            <div class="col-xl-6">
                                                <label for="source-date">Comments:</label>
                                                <textarea name="others" id="others" cols="30" rows="5" class="form-control"></textarea>
                                            </div>
                                        </div>
                                        <div class="form-row d-flex align-items-center gap-3 mt-1">
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="verif-radio"
                                                    id="verif-open" value="Open">
                                                <label class="form-check-label" for="verif-open">
                                                    Open
                                                </label>
                                            </div>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="verif-radio"
                                                    id="verif-close" value="Close">
                                                <label class="form-check-label" for="verif-close">
                                                    Close
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-row d-flex align-items-center gap-3">
                                            <label for="">In Good Standing?</label>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="good-standing-radio"
                                                    id="good-standing-yes" value="Yes">
                                                <label class="form-check-label" for="good-standing-yes">
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="good-standing-radio"
                                                    id="good-standing-no" value="No">
                                                <label class="form-check-label" for="good-standing-no">
                                                    No
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-row row mt-3">
                                            <div class="col-xl-12">
                                                <div class="card other-name-card">
                                                    <div class="card-body">
                                                        <h6 class="form-heading">Verification Errors</h6>
                                                        <div class="form-row row">
                                                            <div class="col-xl-6">
                                                                <label for="error">Error:</label>
                                                                <select name="error" id="error"
                                                                    class="form-select">
                                                                    <option value="">Select option</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-xl-6">
                                                                <label for="comment">Comments:</label>
                                                                <select name="comment" id="comment"
                                                                    class="form-select">
                                                                    <option value="">Select option</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <!-- <hr> -->
                                                        <div class="d-flex align-items-center justify-content-between mt-3">
                                                            <div class="offset-md-5">
                                                                <button class="btn btn-primary py-1">
                                                                    Add Another Error
                                                                </button>
                                                            </div>
                                                            <button class="btn btn-danger">
                                                                Remove
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row row mt-3">
                                            <div class="col-xl-12">
                                                <div class="card other-name-card">
                                                    <div class="card-body">
                                                        <div class="d-flex justify-content-between align-items-center">
                                                            <h6 class="form-heading">Correct Information</h6>
                                                            <div class="d-flex gap-2">
                                                                <button class="btn btn-primary py-1">
                                                                    Verified
                                                                </button>
                                                                <button class="btn btn-primary py-1">
                                                                    Verify and Update with Correct Information
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <div class="form-row row mt-3">
                                                            <div class="col-xl-6">
                                                                <label for="error" class="d-none">Error:</label>
                                                                <select name="correct-info-sel" id="correct-info-sel"
                                                                    class="form-select">
                                                                    <option value="">Select option</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-xl-6">
                                                                <label for="comment" class="d-none">Comments:</label>
                                                                <input type="text" name="correct-info-txt" id="correct-info-txt" class="form-control" placeholder="Type here...">
                                                            </div>
                                                        </div>
                                                        <!-- <hr class=""> -->
                                                        <div class="d-flex align-items-center justify-content-between mt-3">
                                                            <div class="offset-md-5">
                                                                <button class="btn btn-primary py-1">
                                                                    Add
                                                                </button>
                                                            </div>
                                                            <button class="btn btn-danger">
                                                                Remove
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row mt-2">
                                            <label for="">Verification Status:</label>
                                        </div>
                                        <div class="form-row">
                                            <label for="">Notification Status:</label>
                                        </div>
                                        <div class="form-row">
                                            <label for="">Verification Date:</label>
                                        </div>
                                        <div class="form-row">
                                            <label for="">Verifier:</label>
                                        </div>
                                        <div class="form-row row">
                                            <div class="col-xl-12">
                                                <label for="verif-comment">Comments:</label>
                                                <textarea name="verif-comment" id="verif-comment" cols="30" rows="3" class="form-control"></textarea>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-end gap-2 mt-3">
                                            <button type="submit" class="btn btn-primary py-1">
                                                Save Verification
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="form-row row mt-3">
                        <div class="col-xl-12">
                            <div class="card other-name-card">
                                <form action="">
                                    <div class="card-body">
                                        <h6 class="form-heading">Audit</h6>
                                        <div class="form-row d-flex gap-2 mt-3">
                                            <button class="btn btn-primary py-1">
                                                Quality Audit
                                            </button>
                                            <button type="submit" class="btn btn-pane-sm">
                                                First Audit
                                            </button>
                                            <button class="btn btn-pane-sm">
                                                Second Audit
                                            </button>
                                        </div>
                                        <div class="form-row row mt-3">
                                            <div class="col-xl-12">
                                                <div class="card other-name-card">
                                                    <div class="card-body">
                                                        <h6 class="form-heading">Reasons</h6>
                                                        <div class="form-row row">
                                                            <div class="col-xl-6">
                                                                <label for="reason">Reason:</label>
                                                                <select name="reason" id="reason"
                                                                    class="form-select">
                                                                    <option value="">Select option</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-xl-6">
                                                                <label for="reason-comment">Comments:</label>
                                                                <select name="reason-comment" id="reason-comment"
                                                                    class="form-select">
                                                                    <option value="">Select option</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex align-items-center justify-content-between mt-3">
                                                            <div class="offset-md-5">
                                                                <button class="btn btn-primary py-1">
                                                                    Add Another Reason
                                                                </button>
                                                            </div>
                                                            <button class="btn btn-danger">
                                                                Remove
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row d-flex align-items-center gap-3">
                                            <label for="">Audit Status:</label>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="audit-status-radio"
                                                    id="audit-status-pass" value="Yes">
                                                <label class="form-check-label" for="audit-status-pass">
                                                    Pass
                                                </label>
                                            </div>
                                            <div class="form-check d-flex align-items-center gap-2">
                                                <input class="form-check-input" type="radio" name="audit-standing-radio"
                                                    id="audit-status-fail" value="No">
                                                <label class="form-check-label" for="audit-status-fail">
                                                    Fail
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <label for="">Audit Date:</label>
                                        </div>
                                        <div class="form-row">
                                            <label for="">Auditor:</label>
                                        </div>
                                        <div class="form-row row">
                                            <div class="col-xl-12">
                                                <label for="audit-comment">Comments:</label>
                                                <textarea name="audit-comment" id="audit-comment" cols="30" rows="3" class="form-control"></textarea>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-end gap-2 mt-3">
                                            <button type="submit" class="btn btn-primary py-1">
                                                Save Audit
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Verification Letter Modal -->
<div class="modal fade" id="verifLetterModal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body">
                <div class="content">
                    <div class="modal-title">
                        <h6 class="offset-md-3">Registration Verification Letter</h6>
                        <button class="btn btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    </div>
                    <div class="mt-3 left-pane">
                        <h6>Preview Letter</h6>
                    </div>
                    <div class="form-row row page-applicable mt-3">
                        <div class="col-xl-12">
                            <div class="card other-name-card">
                                <div class="card-body">
                                    <h6 class="form-heading">Send Fax</h6>
                                    <span class="page-note mt-1">
                                        <i class='bx bx-error-circle font-red'></i> <span>Please correct the invalid fax number. Fields will be enabled once corrected.</span>
                                    </span>
                                    <div class="form-row mt-2">
                                        <label for="">Fax2Mail Email Address:</label>
                                        <input type="text" id="fax-email" name="fax-email" class="form-control" placeholder="Type here...">
                                    </div>
                                    <div class="form-row d-flex justify-content-end mt-4">
                                        <button class="btn btn-primary py-1">
                                            Send Fax
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row row page-applicable mt-3">
                        <div class="col-xl-12">
                            <div class="card other-name-card">
                                <div class="card-body">
                                    <h6 class="form-heading">Send Email</h6>
                                    <span class="page-note mt-1">
                                        <i class='bx bx-error-circle font-red'></i> <span>Please correct the invalid email address. Fields will be enabled once corrected.</span>
                                    </span>
                                    <div class="form-row mt-2">
                                        <label for="">Email Address To:</label>
                                        <input type="text" id="email-to" name="email-to" class="form-control" placeholder="Type here...">
                                    </div>
                                    <div class="form-row">
                                        <label for="">Email Address CC:</label>
                                        <input type="text" id="email-cc" name="email-cc" class="form-control" placeholder="Type here...">
                                    </div>
                                    <div class="form-row d-flex justify-content-end mt-4">
                                        <button class="btn btn-primary py-1">
                                            Send Email
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>