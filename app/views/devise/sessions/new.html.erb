<div class="container" style="height: 100vh;">
   <div class="row d-flex justify-content-center align-items-center pt-3">
      <div class="col-lg-5 my-3">
         <div class="card px-5">
            <div class="card-body">
               <div class="d-flex justify-content-center gap-2 align-items-center">
                  <img src="<%= current_logo %>" style="<%= current_setting.plmhealthoneapp? ? 'height: 100%;' : 'width:100%;'%>" class="mt-3">
               </div>
               <div class="d-flex justify-content-start my-3">
                  <h3>Sign In</h3>
               </div>

               <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
               <%= render "devise/shared/flash_messages" %>

               <div class="form-group my-3">
                  <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control', placeholder: 'Email', required: true %>
               </div>
               <div class="form-group mt-3 mb-2">
                  <div class="password-wrapper" style="position: relative;">
                    <%= f.password_field :password, id: "password-field", autocomplete: "current-password", class: "form-control", style: "padding-right: 2.5rem;", placeholder: 'Password' %>
                    <span id="toggle-password" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;">üëÅÔ∏è</span>
                  </div>
               </div>
               <div class="form-group mt-3 mb-2">
                <%= f.select :user_role, options_for_select(Role.all.map{ |role| [role.name, role.filtered_name]}), { prompt: 'Select Role' }, class: 'form-select', placeholder: 'Role', required: true %>
               </div>
               <div class="d-flex justify-content-start">
                  <%- if devise_mapping.recoverable? && controller_name != 'passwords' && controller_name != 'registrations' && !current_setting.qualifacts? %>
                    <%= link_to "Having trouble signing in?", new_password_path(resource_name), style: 'text-decoration: none;color: #555;' %>
                  <% end %>
               </div>
               <div class="d-flex flex-column gap-3 justify-content-center align-items-center my-5">
																	<div>
																				<%= f.submit "Sign in", class: 'btn btn-primary btn-lg py-3 px-5 fs-6'%>
																	</div>
               </div>
               <% end %>
               <%= render 'devise/shared/links' %>
               <p>Don't have an account? <%= link_to "Sign up", new_user_registration_path %></p>
            </div>
         </div>
      </div>
   </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const passwordField = document.getElementById("password-field");
    const toggleIcon = document.getElementById("toggle-password");

    toggleIcon.addEventListener("click", function () {
      const isPassword = passwordField.type === "password";
      passwordField.type = isPassword ? "text" : "password";
      toggleIcon.textContent = isPassword ? "üôà" : "üëÅÔ∏è";
    });
  });
</script>

